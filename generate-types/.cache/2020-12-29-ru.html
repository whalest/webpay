<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WEBPAY documentation</title>
  <link rel="shortcut icon" type="image/png" href="img/webpayFavicon.png">
  <link rel="stylesheet" href="js/lib/styles/rainbow.css">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header__big">
      <div class="left-side logo">
        <img src="img/logo_webpay.svg" alt="Logo WEBPAY">
      </div>
      <div class="right-side">
        <div class="header-wrap">
          <div class="logo">
            <img src="img/logo_webpay.svg" alt="Logo WEBPAY">
          </div>
          <div class="options">
            <!-- <span class="search">
              <img src="img/search.svg" alt="" class="img-searh">
            </span> -->
            <span class="language sl-nav">
              <ul>
                <li><img src="img/language.svg" alt="" class="img-lng">
                  <div class="triangle"></div>
                  <ul>
                    <li><div id="Russian"></div><a href="indexRU.html"><span class="active">Русский</span></a></li>
                    <li><div id="English"></div><a href="indexEN.html"><span>English</span></a></li>
                  </ul>
                </li>
              </ul>
            </span>
            <!--span class="select-theme">выбор темы</span-->
            <span>
              <button class="menu"><img src="/img/menu.svg" alt=""></button>
            </span>
          </div>
        </div>
      </div>
    </div>
  </header>
  <!-- /Header -->

  <!-- Content -->
  <section class="content__wraper">
    <!-- left menu -->
    <div class="left-side mobile-menu">
      <div class="menu-header">
        <!-- <div class="search-block">
          <div><input type="text" class="serch-i" id="mobile-search"></div>
          <div><button class="btn-search" id="mobile-btn-search"><img src="img/search_1.svg" alt="" class="img-searh"></button></div>
        </div> -->
      </div>
      <ul class="main-nav">
        <li class="main-nav__item">
          <a href="#mainInfo" class="nav-link" id="mainSection">Общие сведения</a>
          <ul class="second-nav">
            <li class="second-nav_item"><a href="#mainInfoBeforeDev">Подготовка</a></li>
            <li class="second-nav_item"><a href="#personalCabinet">Личный кабинет</a></li>
            <li class="second-nav_item"><a href="#accountTypesStatuses">Типы и статусы счетов</a></li>
            <li class="second-nav_item"><a href="#devEnvironment">Среда разработки</a></li>
          </ul>
        </li>
        <li class="main-nav__item">
          <a href="#integration" class="nav-link">Интеграция платежей</a>
          <ul class="second-nav">
            <li class="second-nav_item"><a href="#integration">Карточные операции</a></li>
            <li class="second-nav_item"><a href="#simplifiedPayment" class="nav-link">Упрощенный платеж</a></li>
            <li class="second-nav_item"><a href="#recurringPayment" class="nav-link">Рекуррентный платеж</a></li>
            <li class="second-nav_item"><a href="#installment">Карты рассрочки</a></li>
            <li class="second-nav_item"><a href="#promoCodes" class="nav-link">Промокоды</a></li>
            <li class="second-nav_item"><a href="#ERIP">ЕРИП</a></li>
          </ul>
        </li>
        <li class="main-nav__item">
          <a href="#noIntegration" class="nav-link">Работа без интеграции</a>
          <ul class="second-nav">
            <li class="second-nav_item"><a href="#newInvoiceCabinet">Счета в личном кабинете</a></li>
            <!-- <li class="second-nav_item"><a href="#products">Продукт</a></li>
            <li class="second-nav_item"><a href="#zeroInvoice">Нулевой счет</a></li>
            <li class="second-nav_item"><a href="#QRCode">QR -коды</a></li> -->
          </ul>
        </li>
        <li class="main-nav__item">
          <a href="#merchantPCIDSS" class="nav-link">Мерчанты PCI DSS</a>
        </li>
        <li class="main-nav__item">
          <a href="#betting" class="nav-link">Выплаты</a>
        </li>
        <li class="main-nav__item">
          <a href="#" class="nav-link">API</a>
          <ul class="second-nav">
            <li class="second-nav_item"><a href="#wsbAPI">Управление операциями</a></li>
            <li class="second-nav_item"><a href="#createOrderAPI">Создание счета</a></li>
            <li class="second-nav_item"><a href="#getReport">Отчеты</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <!-- /left menu -->

    <!-- General Information -->

    <!-- Preparation -->

    <div class="right-side"><!-- right side mainInfo wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content mainInfo -->
          <p id="mainInfo" class="doc-title">Данное руководство описывает процесс разработки платежного модуля для приема платежей в сети Интернет c помощью системы WEBPAY и использование тестовой среды (Sandbox) для тестирования разрабатываемого модуля.</p>
        </div><!-- end left side content mainInfo -->
      </div><!-- /doc wrap -->
    </div><!-- /right side mainInfo wrap -->

    <div class="right-side"><!-- right side mainInfoBeforeDev wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content mainInfoBeforeDev -->
            <h2 id="mainInfoBeforeDev" class="doc-title">Порядок разработки</h2>
            <ol>
              <li>Внимательно ознакомиться с настоящим руководством;</li>
              <li>Зайти в Web-приложение среды для тестирования разрабатываемых модулей по адресу <a href="https://sandbox.webpay.by" target="_blank">https://sandbox.webpay.by</a>, используя параметры, полученные в письме от персонального менеджера в компании WEBPAY;</li>
              <li>Ознакомиться с интерфейсом Sandbox и заполнить необходимые поля (<a href="#companyProfile">Профайл компании</a>);</li>
              <li>Приступить к разработке платежного модуля согласно данному руководству;</li>
              <li>Произвести тестирование модуля;</li>
              <li>Получить письмо с новыми параметрами для перевода платежного модуля из тестовой системы в реальную платежную систему (<a href="#testToReal">Переход из тестовой среды в реальную</a>);</li>
              <li>Внести изменения в платежный модуль.</li>
            </ol>
        </div><!-- end left side content mainInfoBeforeDev -->
      </div><!-- /doc wrap -->
    </div><!-- /right side mainInfoBeforeDev wrap -->

    <div class="right-side"><!-- right side introduction wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content introduction -->
          <h2>Интерфейс Web-приложения</h2>
          <p>Интерфейс Web-приложения тестовой системы Sandbox и реальной системы не отличаются. Обращаем Ваше внимание на адрес, используемой среды в браузере (для тестовой среды - <a href="https://sandbox.webpay.by" target="_blank">https://sandbox.webpay.by</a>, для реальной - <a href="https://billing.webpay.by" target="_blank">https://billing.webpay.by</a>). Перед началом разработки рекомендуется зайти в Web-приложение и ознакомиться с его содержимым (<a href="#personalCabinet">Личный кабинет</a>).</p>
          <h3>Основной экран приложения</h3>
          <p>После входа в Web-приложение Вам будет отображена следующая страница:</p>
          <img src="img/mainInfoRU/mainPage.png" alt="Основной экран приложения">
          <p>На данной странице отображается основная статистика по Вашему биллинг-аккаунту, тут же Вы сможете сформировать статистику за выбранный интервал времени. Слева находится панель навигации, которая предоставляет возможности управления Вашим аккаунтом, а также требуемой информацией по прошедшим транзакциям.</p>
          <h3 id="setSecretKey">Установка секретного ключа</h3>
          <p>Секретный ключ необходим для формирования электронной подписи каждого Вашего платежа (<a href="#orderSignature">Электронная подпись заказа</a>). Этот параметр является обязательным к заполнению и без него невозможно будет проведение транзакций по оплате товаров/услуг. Для установки значения ключа необходимо заполнить поле SecretKey. Для этого необходимо перейти к разделу меню <b>"Настройки" → "Компания"</b>. Это поле может содержать случайную последовательность символов за исключение знака &.</p>
          <img src="img/mainInfoRU/secretKey.png" alt="Установка секретного ключа">
          <h3>Просмотр финансовых операций</h3>
          <p>Для просмотра всех финансовых операций необходимо воспользоваться пунктом меню <b>"Платежи"</b>. На данной странице отображены все финансовые платежи (транзакции), осуществленные банковской картой онлайн.</p>
          <img src="img/mainInfoRU/payments.png" alt="Просмотр платежей">
          <p>Каждая такая транзакция привязана к Инвойсу (Счету), у инвойса может быть несколько типов транзакций, таких как:</p>
          <p><b>Authorized</b> – состояние авторизации платежа (денежные средства заблокированы на банковской карточке покупателя). В этом состоянии у покупателя данная сумма ещё не списана со счета (заблокирована) и данная сумма еще не перечислена на Ваш банковский счет;</p>
          <p><b>Completed</b> – денежные средства списаны с банковской карточки и будут зачислены на Ваш банковский счет в сроки, установленные банком-эквайером;</p>
          <p><b>System</b> — системная транзакция.</p>
          <p>В поле <b>"ID счета"</b> содержится номер, к которому привязаны транзакции. Для просмотра всех транзакций, связанных с этим номером, а также значений, с которыми был совершен платеж, необходимо нажать на ссылку. В результате Вы перейдете на страницу с информацией о данном инвойсе.</p>
          <img src="img/mainInfoRU/paymentInfo.png" alt="Информация о платеже">
        </div><!-- end left side content introduction -->
      </div><!-- /doc wrap -->
    </div><!-- /right side introduction wrap -->

    <!-- End Preparation -->

    <!-- Personal Cabinet-->

    <div class="right-side"><!-- right side login wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content login -->
          <h2 id="personalCabinet" class="doc-title">Вход в персональный кабинет WEBPAY</h2>
          <p>Доступ в личный кабинет WEBPAY осуществляется посредством интернет-браузера по защищенному каналу связи.</p>
          <p>Для входа в персональный кабинет WEBPAY необходимо указать следующий адрес:</p>
          <p><a href="https://billing.webpay.by" target="_blank">https://billing.webpay.by</a> – для реальной среды</p>
          <p><a href="https://sandbox.webpay.by" target="_blank">https://sandbox.webpay.by</a> – для тестовой среды</p>
          <p>В открывшемся окне следует указать предоставленные персональным менеджером компании WEBPAY логин и пароль.</p>
          <img src="img/mainInfoRU/login.png" alt="Вход в личный кабинет WEBPAY">
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Обращаем Ваше внимание, что соединение должно быть защищенным, поэтому обязательно укажите https вместо http.
            </p>
          </div><!-- /Attention -->
          <p>В случае успешной авторизации вы попадете на страницу панели мониторинга. Панель мониторинга условно разделена на пять блоков:</p>
          <ul>
            <li><b>Блок формирования статистики за промежуток дат </b><span>- управляет отображением статистики за выбранный период времени.</span></li>
            <li><b>Блок статистики по счетам </b><span>- отображается информация о счетах, которые уже оплачены, ожидают оплаты или просрочены, а также об общем количестве счетов. Еще с этого блока можно быстро перейти в раздел счета по кнопке <b>"Счета"</b> и создать новый счет по кнопке <b>"Новый счет"</b>.</span></li>
            <li><b>Блок с курсами валют.</b></li>
            <li><b>Блок статистики по платежам </b><span>- отображается баланс за выбранный промежуток времени, а также кнопка для быстрого перехода в раздел платежи.</span></li>
            <li><b>Блок статистики по средствам оплаты </b><span>- отображается процентное соотношение статистики по долям банковских карт.</span></li>
          </ul>
          <p>В левой части экрана располагается скрывающееся меню, из которого можно попасть в разделы <b>"Счета"</b>, <b>"Платежи"</b>, <b>"Журнал платежей"</b>, <b>"Отчеты"</b> и <b>"Настройки"</b>.</p>
          <img src="img/mainInfoRU/mainPage.png" alt="Панель мониторинга">
        </div><!-- end left side content login -->
      </div><!-- /doc wrap -->
    </div><!-- /right side login wrap -->

    <div class="right-side"><!-- right side companyProfile wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content companyProfile -->
          <h2 id="companyProfile">Заполнение параметров персонального кабинета WEBPAY ("Компания")</h2>
          <p>Перед началом работы необходимо проверить основные параметры Вашего биллинг-аккаунта. Для этого необходимо перейти в пункт меню <b>"Настройки" → "Компания"</b>. В данном разделе Вы можете изменить данные о Вашей организации (адрес компании, город, почтовый индекс, контактный телефон). Также в данном разделе Вы можете произвести следующие настройки:</p>
          <ul>
            <li>Прописать значение <b>"Секретного ключа"</b> (ОБЯЗАТЕЛЬНОЕ значение при интеграции с сайтом. Перейти к разделу <a href="#integration">Интеграция платежей</a>);</li>
            <li>Указать <b>"URL для уведомлений"</b>, по которому система WEBPAY будет отсылать специально сформированный запрос с информацией по платежу;</li>
            <li>Изменить язык системы (по умолчанию используется русский);</li>
            <li>Установить формат даты и времени;</li>
            <li>Установить разрядность дробной части (количество знаков после запятой для цен в валюте EUR, USD, RUB).</li>
          </ul>
          <p>Для изменения остальных данных (имя компании, наименование юридического лица, сайт компании) Вам необходимо связаться с персональным менеджером WEBPAY.</p>
          <img src="img/mainInfoRU/companyProfile.png" alt="Параметры персонального кабинета WEBPAY">
        </div><!-- end left side content companyProfile -->
      </div><!-- /doc wrap -->
    </div><!-- /right side companyProfile wrap -->

    <div class="right-side"><!-- right side createAccount wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content createAccount -->
          <h2>Создание учетной записи ("Учетные записи")</h2>
          <p>В открытом личном кабинете перейдите в пункт меню <b>"Настройки" → "Пользователи"</b>. В данном разделе можно создавать, удалять и управлять учетными записями пользователей Вашей компании, которые имеют доступ к системе WEBPAY.</p>
          <img src="img/mainInfoRU/account.png" alt="Учетные записи">
          <p>Для создания нового пользователя необходимо нажать кнопку <b>"Добавить пользователя"</b> в меню <b>"Настройки" → "Пользователи"</b>.</p>
          <img src="img/mainInfoRU/addAccount.png" alt="Добавление учетной записи">
          <p>Перед вами откроется форма, в которой нужно указать следующие обязательные параметры:</p>
          <ul>
            <li>Имя пользователя (логин от 4 до 12 латинских букв);</li>
            <li>Имя;</li>
            <li>Фамилия;</li>
            <li>Телефон;</li>
            <li>Email;</li>
            <li>Страна;</li>
            <li>Область;</li>
            <li>Почтовый индекс;</li>
            <li>Город;</li>
            <li>Адрес;</li>
            <li>Пароль;</li>
            <li>Подтверждение пароля.</li>
          </ul>
          <p>Также следует указать, какими правами должен обладать владелец создаваемой учетной записи в списке <b>"Группы"</b>:</p>
          <ul>
            <li>Администратор;</li>
            <li>Покупатель;</li>
            <li>Учетная запись системы;</li>
            <li>Гость.</li>
          </ul>
          <p>Если вы хотите, чтобы создаваемая учетная запись имела права и возможности создавать счета и пользователей и редактировать данные по ним, необходимо выбрать из выпадающего списка группы <b>"Администратор"</b>.</p>
          <img src="img/mainInfoRU/newAccount.png" alt="Создание новой учетной записи">
          <ul>
            <li>В поле <b>"Мультилогин"</b> оставьте <b>"Да"</b>;</li>
            <li>В поле <b>"Активный"</b> укажите <b>"Нет"</b> в случае, если планируете сделать учетную запись активной позже. Иначе оставьте <b>"Да"</b>.</li>
          </ul>
          <p>Для завершения создания новой учетной записи нажмите кнопку <b>"Подтвердить"</b>.</p>
          <p>Также Вы можете создать учетные записи для Ваших постоянных клиентов. Для этого необходимо выбрать из выпадающего списка группы <b>"Покупатель"</b>. Тогда Вы можете выставлять счет данному покупателю, выбрав его из списка.</p>
          <p>В меню <b>"Пользователи"</b> Вы всегда можете просмотреть уже созданные учетные записи или перейти к их редактированию. Для редактирования учетной записи нужно щелкнуть по интересующей записи и нажать кнопку <b>"Изменить пользователя"</b> в верхнем правом углу экрана.</p>
          <img src="img/mainInfoRU/fillNewAccount.png" alt="Заполнение данных учетной записи">
        </div><!-- end left side content createAccount -->
      </div><!-- /doc wrap -->
    </div><!-- /right side createAccount wrap -->

    <div class="right-side"><!-- right side viewPaymentInfo wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content viewPaymentInfo -->
          <h2>Просмотр информации о платежах</h2>
          <p>Все платежи, которые поступили в пользу Вашей компании при оплате банковской картой онлайн, Вы можете просматривать в меню <b>"Платежи"</b>.</p>
          <ul>
            <li>ID транзакции – уникальный номер транзакции (в случае если номер ID транзакции указан – транзакция завершена успешно);</li>
            <li>ID счета;</li>
            <li>Способ платежа;</li>
            <li>Сумма;</li>
            <li>Статус 3DS – если карточка плательщика участвует в процедуре 3D-Secure, указывается "Да";</li>
            <li>Плательщик;</li>
            <li>Процессинг шлюз;</li>
            <li>Статус;</li>
            <li>Дата платежа.</li>
          </ul>
          <img src="img/mainInfoRU/menuPayments.png" alt="Информация о платежах">
          <p>Для удобства поиска и работы с информацией в списке <b>"Платежи"</b> и <b>"Журнал платежей</b>" можно произвести поиск платежей по интересующим Вас параметрам. Для этого следует воспользоваться окном сверху от списка. Окно можно раскрыть, получив расширенные опции поиска. По умолчанию используется сортировка по дате платежа. Поиск можно осуществить по следующим параметрам:</p>
          <ul>
            <li>указать временной интервал поиска, выбрав необходимый период;</li>
            <li>указать RRN (уникальный номер транзакции, присваиваемый процессинговым центром) платежа;</li>
            <li>указать E-mail, привязанный к транзакции;</li>
            <li>указать ID счета;</li>
            <li>указать ID транзакции;</li>
            <li>указать номер карты;</li>
            <li>выбрать статус транзакции.</li>
          </ul>
          <img src="img/mainInfoRU/paymentSearch.png" alt="Расширенный поиск по параметрам">
          <p>Все счета, которые были выставлены Вашей компанией, включая оплаченные, Вы можете просматривать в меню <b>"Счета"</b>. В списке доступна следующая информация:</p>
          <ul>
            <li>Дата создания – дата, когда был выставлен счет;</li>
            <li>ID счета - уникальный идентификатор счета;</li>
            <li>Имя счета – имя счета в системе WEBPAY;</li>
            <li>Имя счета мерчанта – имя, которое Вы указали при выставлении счета;</li>
            <li>Покупатель – плательщик, для которого выставлен счет;</li>
            <li>Способ платежа - способ, которым был оплачен выставленный счет (интернет-эквайринг или ЕРИП);</li>
            <li>Сумма и валюта заказа – общая сумма и валюта выставленного счета;</li>
            <li>Оплатить до – дата, до которой можно оплатить выставленный счет;</li>
            <li>Статус платежа.</li>
          </ul>
          <img src="img/mainInfoRU/invoiceInfo.png" alt="Информация о выставленных счетах">
          <p>При нажатии на счет раскрывается дополнительная информация:</p>
          <img src="img/mainInfoRU/addInvoiceInfo.png" alt="Дополнительная информация о выставленных счетах">
          <h3>Журнал платежей</h3>
          <p>Все попытки оплаты, включая не успешные, с указанием текстовой информации о результате проведения операции отображаются в меню <b>"Журнал платежей"</b>. В списке доступна следующая информация:</p>
          <ul>
            <li>ID – номер запроса в системе WEBPAY;</li>
            <li>ID транзакции – уникальный номер транзакции (в случае если номер ID транзакции указан – транзакция завершена успешно);</li>
            <li>Дата создания;</li>
            <li>Дата платежа;</li>
            <li>Способ платежа;</li>
            <li>Тип – платежная система банковской карточки;</li>
            <li>Платежное средство – частично скрытый номер банковской карточки;</li>
            <li>Код ответа – код ответа процессингового центра;</li>
            <li>Текст ответа – расшифровка ответа процессингового центра;</li>
            <li>ID аккаунта;</li>
            <li>Статус 3DS – если карточка плательщика участвует в процедуре 3D-Secure, указывается "Да".</li>
          </ul>
          <img src="img/mainInfoRU/paymentsList.png" alt="Журнал платежей">
          <p>Если кликнуть на поле <b>"ID транзакции"</b> то откроется окно <b>"Журнал операций по платежу"</b>. Также здесь можно найти ссылку на чек, который получил плательщик после успешной оплаты.</p>
          <img src="img/mainInfoRU/transactionInfo.png" alt="Журнал операций по платежу">
        </div><!-- end left side content viewPaymentInfo -->
      </div><!-- /doc wrap -->
    </div><!-- /right side viewPaymentInfo wrap -->

    <div class="right-side"><!-- right side reporting wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content reporting -->
          <h2>Отчетность по совершенным платежам</h2>
          <p>Для получения отчетов по платежам, совершенным через АИС "Расчет" (ЕРИП) и интернет-эквайринг, и результатов сверки поступления средств Вам необходимо зайти в систему отчетности по адресу <a href="https://merchant-sandbox.webpay.by" target="_blank">https://merchant-sandbox.webpay.by</a> для тестовой среды и по адресу <a href="https://merchant.webpay.by" target="_blank">https://merchant.webpay.by</a> для действующей среды. Логин и пароль тот же, что и для входа в персональный кабинет WEBPAY.</p>
          <p>Отчеты из этого кабинета Вы можете экспортировать в Excel. Также можно, не заходя в систему отчетности, получать <a href="#getReport">отчеты на email в Excel-файле или в формате JSON</a>.</p>
          <img src="img/mainInfoRU/loginMerchant.png" alt="Вход в систему отчетности">
          <h3>Отчетность по транзакциям, совершенным через АИС "Расчет" (ЕРИП)</h3>
          <p>Выберите пункт меню <b>"ЕРИП" → "Результаты платежей"</b>. В итоге отобразится отчет, который содержит результат оплаты заказа и информацию о перечислении средств. Запись в отчете появляется сразу же после оплаты. Позднее, по факту формирования АИС "Расчет" (ЕРИП) реестров, добавляется информация из данных реестров о перечислении средств. Автоматически проводится сверка и выставляется успешный или не успешный статус сверки.</p>
          <img src="img/mainInfoRU/resultsERIPMerchant.png" alt="Отчет ЕРИП -> Результаты платежей">
          <h4>Описание полей</h4>
          <table>
            <thead>
              <tr>
                <td>Название</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Статус платежа</td>
                <td>
                  <p>Результат выполнения платежа. Возможные значения:</p>
                  <p><b>Успешный платеж</b> – система WEBPAY подтвердила успешное выполнение платежа;</p>
                  <p><b>Сбой платежа</b> – система WEBPAY не подтвердила успешное выполнение платежа;</p>
                  <p><b>Не подтверждено WEBPAY</b> – отчет сверки ЕРИП содержит информацию по несуществующей операции.</p>
                </td>
              </tr>
              <tr>
                <td>Статус сверки</td>
                <td>
                  <p>Статус сверки данных WEBPAY с данными из отчетов ЕРИП. Возможные значения:</p>
                  <p><b>Не подтверждено банком (ЕРИП)</b> – для успешной транзакции в системе WEBPAY не пришло подтверждение из ЕРИП;</p>
                  <p><b>Успешная сверка</b> – для успешной транзакции в системе WEBPAY пришло подтверждение из ЕРИП;</p>
                  <p><b>Ошибка сверки</b> – для успешной транзакции в системе WEBPAY пришло подтверждение из ЕРИП, но существует несоответствие в параметрах платежа.</p>
                </td>
              </tr>
              <tr>
                <td>Время платежа</td>
                <td>Дата совершения платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Лицевой счет</td>
                <td>Значение, идентифицирующее потребителя услуги или товара.</td>
              </tr>
              <tr>
                <td>Id запроса ЕРИП</td>
                <td>Единый идентификатор последовательности запросов на оплату в ЕРИП.</td>
              </tr>
              <tr>
                <td>Id транзакции ЕРИП</td>
                <td>Учетный номер операции в центральном узле ЕРИП.</td>
              </tr>
              <tr>
                <td>Номер услуги</td>
                <td>Номер услуги Магазина.</td>
              </tr>
              <tr>
                <td>Код расчетного агента</td>
                <td>Три последние цифры кода МФО расчетного агента.</td>
              </tr>
              <tr>
                <td>Сумма</td>
                <td>Сумма платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Валюта</td>
                <td>Валюта платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Тип авторизации</td>
                <td>
                  <p>Способ платежа. Возможные значения:</p>
                  <p><b>MS</b> – карточка с магнитной полосой.</p>
                  <p><b>BC</b> – карточка БЕЛКАРТ.</p>
                  <p><b>NONE</b> – плательщик не идентифицирован.</p>
                  <p><b>CASH</b> – оплата наличными в РКЦ.</p>
                  <p><b>CASHIN</b> – оплата наличными в платежно-справочном терминале.</p>
                </td>
              </tr>
              <tr>
                <td>Id транзакции WEBPAY</td>
                <td>Идентификатор ЕРИП в рамках платежных запросов.</td>
              </tr>
              <tr>
                <td>Код отправителя сообщения</td>
                <td>Код абонента регионального узла.</td>
              </tr>
              <tr>
                <td>Номер сообщения</td>
                <td>Номер сообщения ЕРИП.</td>
              </tr>
              <tr>
                <td>Дата формирования сообщения</td>
                <td>Дата формирования сообщения ЕРИП.</td>
              </tr>
              <tr>
                <td>Номер платежного документа</td>
                <td>Номер платежного документа ЕРИП.</td>
              </tr>
              <tr>
                <td>Дата перечисления средств</td>
                <td>Дата перечисления средств по данным ЕРИП.</td>
              </tr>
              <tr>
                <td>Лицевой счет расчетного агента</td>
                <td>Лицевой счет расчетного агента, с которого производился расчет с производителем услуг.</td>
              </tr>
              <tr>
                <td>Перечисленная сумма</td>
                <td>Перечисленная сумма по данным ЕРИП для текущего платежа.</td>
              </tr>
              <tr>
                <td>Валюта</td>
                <td>Валюта текущего платежа в ЕРИП.</td>
              </tr>
              <tr>
                <td>Дата совершения операции</td>
                <td>Дата совершения платежа по данным ЕРИП.</td>
              </tr>
              <tr>
                <td>Номер операции в расчетном агенте</td>
                <td>Номер операции ЕРИП в расчетном агенте.</td>
              </tr>
              <tr>
                <td>Средство авторизации суммы</td>
                <td>Информация о платежном средстве.</td>
              </tr>
            </tbody>
          </table>
          <p>Чтобы просмотреть все транзакции АИС "Расчет" ЕРИП, необходимо выбрать пункт меню <b>"ЕРИП" → "Журнал транзакций"</b>. В результате отобразится отчет, который содержит информацию об этапах оплаты заказа и возврате средств в режиме реального времени. Оплата производится в три этапа:</p>
          <ul>
            <li>Service Info (Информационный запрос);</li>
            <li>Transaction Start (Старт оплаты);</li>
            <li>Transaction Result (Результат оплаты).</li>
          </ul>
          <p>Возврат средств производится в два этапа:</p>
          <ul>
            <li>Storn Start (Запрос сторнирования);</li>
            <li>Storn Result (Результат сторнирования).</li>
          </ul>
          <h4>Описание полей отчета</h4>
          <table>
            <thead>
              <tr>
                <td>Название</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ID запроса</td>
                <td>Единый идентификатор последовательности запросов на оплату в ЕРИП.</td>
              </tr>
              <tr>
                <td>Статус операции</td>
                <td>
                  <p>Результат выполнения операции. Возможные значения:</p>
                  <p><b>Успешная операция</b> – система WEBPAY подтвердила успешное выполнение операции.</p>
                  <p><b>Ошибка выполнения</b> – система WEBPAY не подтвердила успешное выполнение операции.</p>
                  <p><b>Дубликат операции</b> – в системе WEBPAY уже содержится данная операция.</p>
                </td>
              </tr>
              <tr>
                <td>Тип операции</td>
                <td>
                  <p>Тип операции в соответствии с протоколом ЕРИП:</p>
                  <p><b>SERVICE_INFO (Информационный)</b> – получение данных о заказе;</p>
                  <p><b>TRANSACTION_START (Старт оплаты)</b> – начало оплаты заказа;</p>
                  <p><b>TRANSACTION_RESULT (Результат оплаты)</b> – результат оплаты заказа;</p>
                  <p><b>STORN_START (Запрос сторнирования) </b>– начало запроса на возврат средств;</p>
                  <p><b>STORN_RESULT (Результат сторнирования)</b> – результат запроса на возврат средств.</p>
                </td>
              </tr>
              <tr>
                <td>Дата запроса</td>
                <td>Дата формирования запроса в ЕРИП.</td>
              </tr>
              <tr>
                <td>ID транзакции ЕРИП</td>
                <td>Учетный номер операции в центральном узле ЕРИП.</td>
              </tr>
              <tr>
                <td>ID транзакции WEBPAY</td>
                <td>Идентификатор ЕРИП в рамках платежных запросов.</td>
              </tr>
              <tr>
                <td>Лицевой счет WEBPAY</td>
                <td>Значение, идентифицирующее потребителя услуг или товар.</td>
              </tr>
              <tr>
                <td>Номер услуги</td>
                <td>Номер услуги Магазина.</td>
              </tr>
              <tr>
                <td>Сумма</td>
                <td>Сумма платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Валюта</td>
                <td>Валюта платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Тип авторизации</td>
                <td>Тип авторизации средств при оплате заказа.</td>
              </tr>
              <tr>
                <td>Расчетный агент</td>
                <td>Код расчетного агента.</td>
              </tr>
            </tbody>
          </table>
          <h3>Отчетность по транзакциям, совершенным через интернет-эквайринг</h3>
          <p>Выберите пункт меню <b>"Платежи" → "Отчет сверки"</b>. В итоге отобразится отчет, который содержит результат оплаты заказа и информацию о перечислении средств. Запись в отчете появляется сразу же после оплаты.</p>
          <h4>Описание полей отчета:</h4>
          <table>
            <thead>
              <tr>
                <td>Название</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Статус счета</td>
                <td>
                  <p>Результат выполнения платежа. Возможные значения:</p>
                  <p><b>Авторизация</b> – денежные средства заблокированы на карте плательщика;</p>
                  <p><b>Сброс авторизации</b> – денежные средства разблокированы на карте плательщика;</p>
                  <p><b>Частичный сброс авторизации</b> – часть денежных средств разблокирована на карте плательщика;</p>
                  <p><b>Полный возврат средств</b> – денежные средства списаны с р/с Магазина и возвращены на карту плательщика;</p>
                  <p><b>Частичный возврат средств</b> – часть денежных средств списано с р/с Магазина и возвращена на карту плательщика.</p>
                </td>
              </tr>
              <tr>
                <td>Статус сверки</td>
                <td>
                  <p>Статус сверки данных WEBPAY с данными из отчетов банка. Возможные значения:</p>
                  <p><b>Не подтверждено банком</b> – для успешной транзакции в системе WEBPAY не пришло подтверждение из банка;</p>
                  <p><b>Успешная сверка</b> – для успешной транзакции в системе WEBPAY пришло подтверждение из банка;</p>
                  <p><b>Ошибка сверки</b> – для успешной транзакции в системе WEBPAY пришло подтверждение из банка, но существует несоответствие в параметрах платежа.</p>
                </td>
              </tr>
              <tr>
                <td>ID мерчанта</td>
                <td>Идентификатор магазина в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Сайт торговца</td>
                <td>Сайт, подключенный к системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Номер заказа торговца</td>
                <td>Уникальный идентификатор заказа, присваиваемый Магазином.</td>
              </tr>
              <tr>
                <td>Номер счета WEBPAY</td>
                <td>Номер заказа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Номер терминала</td>
                <td>Номер терминала, установленный банком-эквайером.</td>
              </tr>
              <tr>
                <td>Процессинг</td>
                <td>Номер процессинга банка-эквайера.</td>
              </tr>
              <tr>
                <td>Дата и время авторизации</td>
                <td>Дата совершения платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Сумма</td>
                <td>Сумма платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Валюта</td>
                <td>Валюта платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>RRN процессинга банка-эквайера</td>
                <td>Уникальный номер транзакции, присваиваемый процессинговым центром.</td>
              </tr>
              <tr>
                <td>Код авторизации банка-эмитента</td>
                <td>Код авторизации, присвоенный банком-эмитентом.</td>
              </tr>
              <tr>
                <td>Дата и время финансового списания</td>
                <td>Дата финансового завершения платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Сумма финансового завершения</td>
                <td>Сумма финансового завершения платежа в системе WEBPAY.</td>
              </tr>
            </tbody>
          </table>
          <p>В случае если Вашим банком-эквайером является "Приорбанк" ОАО, ЗАО "МТБанк", ОАО "Дабрабыт" Вы можете воспользоваться пунктом меню <b>"Платежи" → "Поступление средств"</b>, чтобы просмотреть информацию о поступлении денежных средств на Ваш р/с. В результате отобразится отчет, который содержит информацию об успешных транзакциях, отраженных в банке.</p>
          <h4>Описание полей отчета</h4>
          <table>
            <thead>
              <tr>
                <td>Название</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Дата учета платежа/возврата в банке</td>
                <td>Дата отражения поступления денежных средств на р/с Магазина.</td>
              </tr>
              <tr>
                <td>Сумма к перечислению</td>
                <td>Сумма за вычетом комиссии, которая поступает на р/с Магазина.</td>
              </tr>
              <tr>
                <td>Валюта перечисления</td>
                <td>Валюта, в которой зачисляются денежные средства.</td>
              </tr>
              <tr>
                <td>Номер заказа торговца</td>
                <td>Уникальный идентификатор заказа, присваиваемый Магазином.</td>
              </tr>
              <tr>
                <td>Номер терминала</td>
                <td>Номер терминала, установленный банком-эквайером.</td>
              </tr>
              <tr>
                <td>ID мерчанта</td>
                <td>Идентификатор магазина в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Сайт торговца</td>
                <td>Сайт, подключенный к системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Номер заказа WEBPAY</td>
                <td>Номер заказа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Код авторизации банка-эмитента</td>
                <td>Код авторизации, присвоенный банком-эмитентом.</td>
              </tr>
              <tr>
                <td>RRN</td>
                <td>Уникальный номер транзакции, присваиваемый процессинговым центром.</td>
              </tr>
              <tr>
                <td>Сумма возмещения</td>
                <td>Сумма платежа в системе WEBPAY.</td>
              </tr>
              <tr>
                <td>Комиссия возмещения</td>
                <td>Комиссионное вознаграждение банку.</td>
              </tr>
              <tr>
                <td>Дата и время авторизации</td>
                <td>Дата совершения платежа в системе WEBPAY.</td>
              </tr>
            </tbody>
          </table>
        </div><!-- end left side content reporting -->
      </div><!-- /doc wrap -->
    </div><!-- /right side reporting wrap -->

    <div class="right-side"><!-- right side paymentPage wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content paymentPage -->
          <!-- left side content paymentPage -->
          <h2>Расширенные настройки платёжной страницы</h2>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Для внесения изменений в оформление платежной страницы, необходимо обратиться к менеджеру компании WEBPAY по адресу <a href="mailto:managers@webpay.by">managers@webpay.by</a>
            </p>
          </div><!-- /Attention -->
          <p>Возможности изменений:</p>
          <ul>
            <li>Размещение логотипа компании;</li>
            <li>Использование цвета бренда в кнопке и линиях;</li>
            <li>Выбор шрифта страницы;</li>
            <li>Изменение подложки карты (цвет или изображение);</li>
            <li>Изменение фона страницы (цвет или изображение);</li>
            <li>Изменение текста кнопки оплаты;</li>
            <li>Размещение дополнительного текста на странице;</li>
          </ul>
          <img src="img/mainInfoRU/paymentPageSettings.png" alt="Возможности для изменений платежной страницы">
          <h4>9.1. Логотип</h4>
          <p>Логотип должен быть в формате png. Максимальная высота изображения 100px (пикселей) а размер не более 500 KB. Рекомендуем использовать прозрачный фон.</p>
          <h4>9.2. Цвет бренда</h4>
          <p>Цвет передается в шестнадцатеричном коде - Hex Code (значение цвета представлено в виде "#XYXYXY"). Данным цветом будут отображаться:</p>
          <ul>
            <li>кнопка оплаты;</li>
            <li>подложка карты;</li>
            <li>нижние границы полей ввода данных;</li>
            <li>надписи "Оплата картой", "Оплата ЕРИП", "EN", "RU".</li>
          </ul>
          <h4>9.3. Шрифт страницы</h4>
          <p>Можно выбрать из пяти доступных шрифтов:</p>
          <ul>
            <li>Montserrat</li>
            <li>Roboto</li>
            <li>Segoe UI</li>
            <li>ProximaNova</li>
            <li>Helvetica</li>
          </ul>
          <p>Перечень доступных шрифтов будет расширяться.</p>
          <h4>9.4. Подложка карты</h4>
          <p>В качестве подложки карты можно использовать либо цвет либо изображение. Цвет передается в шестнадцатеричном коде - Hex Code (значение цвета представлено в виде "#XYXYXY"). <b>! Цветом подложки карты является цвет бренда.</b> Изображение должно быть в формате png. Максимальная высота изображения 285px (пикселей), максимальная ширина 430px (пикселей), а размер файла не более 500 KB. Рекомендуется использовать прозрачный фон.</p>
          <h4>9.5. Фон страницы</h4>
          <p>Вы можете задать фон платежной страницы - цвет или изображение. Цвет фона передается в цветовом шестнадцатеричном коде - Hex Code (значение цвета представлено в виде "#XYXYXY"). Изображение должно быть в формате png. Максимальный размер файла не более 1 MB. Изображение масштабируется с сохранением пропорций таким образом, чтобы целиком поместиться внутри страницы.</p>
          <h4>9.6. Изменение текста кнопки оплаты</h4>
          <h4>9.7. Размещение дополнительного текста на странице</h4>
        </div><!-- end left side content paymentPage -->
      </div><!-- /doc wrap -->
    </div><!-- /right side paymentPage wrap -->

    <!-- End Personal Cabinet-->

    <!-- Account Types and Statuses -->

    <div class="right-side"><!-- right side accountStatuses wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content accountStatuses -->
          <h2 id="accountTypesStatuses" class="doc-title">Статусы счета и типы транзакций в системе WEBPAY</h2>
          <h3>Статусы счетов</h3>
          <p>Ознакомиться со статусом счета можно выбрав в меню пункт <b>"Счета"</b>. В системе WEBPAY по статусу счета делятся на следующие группы:</p>
          <p><b>Ожидание оплаты</b> – данный статус счет получает сразу после формирования и отправки уведомления на email плательщика. Вы можете увидеть в поле <b>"Сумма заказа"</b> сумму, на которую был выставлен счет.</p>
          <img src="img/mainInfoRU/waitingPayment.png" alt="Ожидание оплаты">
          <p><b>Авторизован</b> - счет получает данный статус после успешной авторизации, т.е. денежные средства заблокированы на банковской платежной карточке покупателя, но еще не списаны. Транзакция приобретет тип <b>"Authorized"</b>.</p>
          <img src="img/mainInfoRU/authorizedTransaction.png" alt="Авторизованная транзакция">
          <p><b>Оплачен</b> - счет получает данный статус после успешной оплаты, т.е. денежные средства списаны с карточки покупателя. В поле <b>"Оплачено"</b> отобразится сумма, которая была оплачена плательщиком и транзакция приобретет тип <b>"Completed"</b>.</p>
          <img src="img/mainInfoRU/completedTransaction.png" alt="Финансово завершенная транзакция">
          <p><b>Не оплачен</b> – оплата по счету не была произведена в установленный при создании срок. Для продления срока на оплату счета, следует нажать на кнопку <b>"Изменить счет"</b>.</p>
          <img src="img/mainInfoRU/notPaidInvoice.png" alt="Не оплаченный счет">
          <p><b>Сброшенный после авторизации</b> – сброшенная после авторизации оплата, т.е. денежные средства разблокированы на карт-счете покупателя. Транзакция приобретает тип <b>"Voided"</b>.</p>
          <img src="img/mainInfoRU/voidedTransaction.png" alt="Сброшенная после авторизации транзакция">
          <p><b>Частичная отмена</b> – инициирован частичный возврат денежных средств на карт-счет покупателя. В поле <b>"Оплачено"</b> сумма равна разнице между суммой заказа и возврата. Транзакция приобретает тип <b>"Refunded"</b>.</p>
          <img src="img/mainInfoRU/partialRefundedTransaction.png" alt="Частично отмененная транзакция">
          <p><b>Отменен</b> - инициирован возврат денежных средств на карт-счет покупателя. В поле <b>"Оплачено"</b> сумма равна нулю. Транзакция приобретает тип <b>"Refunded"</b>.</p>
          <img src="img/mainInfoRU/refundedTransaction.png" alt="Отмененная транзакция">
          <p><b>Рекуррентный</b> – рекуррентный (CoF) платеж. Платеж, осуществленный по привязанной карте без участия плательщика.</p>
          <img src="img/mainInfoRU/recurrentTransaction.png" alt="Рекуррентная транзакция">
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Обращаем Ваше внимание, что при осуществлении оплаты через АИС "Расчет" (ЕРИП), счета будут приобретать только статусы: "Ожидание оплаты", "Оплачен" и "Не оплачен".
            </p>
          </div><!-- /Attention -->
        </div><!-- end left side content accountStatuses -->
      </div><!-- /doc wrap -->
    </div><!-- /right side accountStatuses wrap -->

    <div class="right-side"><!-- right side accountTypes wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content accountTypes -->
          <h3>Типы операций в системе WEBPAY</h3>
          <p>В случае возникновения каких-либо претензий относительно качества предоставляемого товара или услуги, покупатель имеет право обратиться в интернет-магазин с просьбой произвести отмену платежа.</p>
          <p>Для возврата списанных денежных средств, плательщик обязан обратиться к продавцу (интернет-магазину, интернет-ресурсу).</p>
          <p>По правилам международных платежных систем возврат денежных средств может быть осуществлен только на ту банковскую карточку, при помощи которой была осуществлена оплата. Рекомендуется сохранять копию платежного извещения, получаемого на email при совершении платежа.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Обратите внимание, что в системе WEBPAY возврат/отмену можно осуществить только по платежам, оплаченным через интернет-эквайринг. Оплаты через АИС "Расчет" (ЕРИП) возврату/отмене не подлежат.
            </p>
          </div><!-- /Attention -->
          <h3>Подтверждение и отмена авторизации</h3>
          <p>В момент оплаты происходит блокировка требуемой суммы на карточке плательщика, которая становится недоступна для использования. В системе WEBPAY такой платеж, отмечается в списке платежей статусом <b>"Authorized"</b>.</p>
          <p>Реальное списание денежных средств с карточки плательщика происходит после финансового подтверждения платежа. После того, как финансовое подтверждение совершено, денежные средства с карточки клиента зачисляются на р/с Вашей компании в установленные договором интернет-эквайринга сроки.</p>
          <p>Финансовое подтверждение может происходить в автоматическом или ручном режиме. В автоматическом режиме финансовое подтверждение происходит спустя 24 часа с момента авторизации. По Вашему желанию время совершения финансового подтверждения мы можем установить от одной минуты с момента авторизации до 72 часов.</p>
          <p>В системе WEBPAY платеж, по которому осуществлено финансовое подтверждение отмечается в списке платежей статусом <b>"Completed"</b>.</p>
          <p>В системе WEBPAY существует две стадии прохождения платежей:</p>
          <ol>
            <li><b>Одностадийные платежи</b> - платежи, по которым сразу же происходит финансовое завершение (статус транзакции <b>Completed</b>), т.е. денежные средства с карты плательщика сразу же списываются. Преимуществом этого способа работы является то, что денежные средства на расчетный счет организации поступают в период, установленный банком-эквайером. Минусом является то, что возврат денежных средств на карту плательщика может достигать 30 дней в зависимости от банка-эмитента.</li>
            <li><b>Двухстадийные платежи</b> - платежи, по которым сначала денежные средства блокируются на карте плательщика (статус транзакции <b>Authorized</b>), затем через оговоренный срок наступает финансовое завершение (статус транзакции <b>Completed</b>). Преимуществом является то, что у организации существует дополнительное время на проверку наличия товара/возможности оказать услугу. При отмене заказа денежные средства будут сразу же разблокированы на карте плательщика. Минусом такого способа является то, что существует задержка поступления денежных средств на расчетный счет на срок, равный сроку авторизации плюс срок зачисления, установленный банком-эквайером.</li>
          </ol>
          <img src="img/mainInfoRU/transactionList.png" alt="Список успешных транзакций">
          <p>Авторизованные платежи в системе WEBPAY могут быть финансово завершены или сброшены (отменены).</p>
          <p>Процедура отмены платежа включает следующие этапы:</p>
          <ul>
            <li>Зайдите в раздел <b>"Платежи"</b>;</li>
            <li>Нажмите на необходимый платеж, чтобы раскрыть его и нажмите кнопку <b>"Сбросить"</b>, после чего авторизация по сделке будет отменена.</li>
          </ul>
          <p>После нажатия кнопки <b>"Сбросить"</b> платеж отклонится, вся оплаченная сумма разблокируется на карточке плательщика и станет доступной для использования. При этом транзакция приобретет статус <b>"Сброшенная после авторизации"</b> (<b>Voided</b>).</p>
          <img src="img/mainInfoRU/cancelAuthorization.png" alt="Осуществление сброса авторизации">
          <p>В случае нажатия кнопки <b>"Завершение"</b>, авторизация по банковской карте подтверждается, транзакция завершается и денежные средства списываются с карты плательщика, а транзакция приобретает статус <b>"Оплачен"</b> (<b>Completed</b>).</p>
          <img src="img/mainInfoRU/completeAuthorization.png" alt="Финансовое завершение авторизации">
          <h3>Полный и частичный возврат денежных средств</h3>
          <p>В том случае, если платеж уже был завершен, т.е. транзакция получила статус <b>"Completed"</b>, произвести сброс платежа не получится. В данном случае необходимо будет произвести <b>"Возврат"</b> либо <b>"Частичный возврат"</b> денежных средств.</p>
          <p>Процедура возврата платежа включает следующие этапы:</p>
          <ul>
            <li>Зайдите в раздел <b>"Платежи"</b>;</li>
            <li>Нажмите на необходимый платеж, чтобы раскрыть его;</li>
            <li>Нажмите на кнопку <b>"Возврат"</b>;</li>
            <li>На открывшейся странице в поле сумма возврата выберите полный или частичный возврат средств. При частичном возврате введите сумму, которая будет возвращена плательщику на ту карту, с которой производилась оплата;</li>
            <li>Нажмите кнопку <b>"Вернуть"</b>.</li>
          </ul>
          <p>После этого денежные средства возвращаются на карточку плательщика. Зачисление средств на карточку плательщика осуществляется, как правило, в течение недели, по карточкам, выпущенным белорусскими банками. По карточкам зарубежного банка срок возврата может достигать одного месяца. Данный параметр во многом зависит от банка, выпустившего карточку. После успешного возврата, транзакция приобретает статус <b>"Частичная отмена/отменен"</b> (<b>Refunded</b>).</p>
          <img src="img/mainInfoRU/refund.png" alt="Осуществление возврата по операции">
        </div><!-- end left side content accountTypes -->
      </div><!-- /doc wrap -->
    </div><!-- /right side accountTypes wrap -->

    <!-- End Account Types and Statuses -->

    <!-- Dev environment -->

    <div class="right-side"><!-- right side devIntroduction wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content devIntroduction -->
          <!-- left side content devIntroduction -->
          <h2 id="devEnvironment" class="doc-title">Введение в среду разработки Sandbox</h2>
          <p>WEBPAY Sandbox — это самостоятельное Web-приложение, являющееся прототипом реальной системы и предназначенное для тестирования и ознакомления с возможностями реальной системы WEBPAY. По своим функциональным возможностям она ничем не отличается от рабочей копии, за исключением того, что не выполняет реального процессинга банковских карточек, т.е. никакие действия не приводят к реальному перемещению средств на карточках. Разработку и тестирование платежных модулей всегда необходимо производить в тестовой среде.</p>
          <h3>Параметры тестовой среды</h3>
          <table>
            <tbody>
              <tr>
                <td>URL адрес тестовой среды:</td>
                <td><a href="https://sandbox.webpay.by" target="_blank">https://sandbox.webpay.by</a></td>
              </tr>
              <tr>
                <td>Имя пользователя (<b>login</b>):</td>
                <td>высылается в письме</td>
              </tr>
              <tr>
                <td>Пароль:</td>
                <td>высылается в письме</td>
              </tr>
              <tr>
                <td>Уникальный идентификатор магазина (<b>wsb_storeid</b>):</td>
                <td>высылается в письме</td>
              </tr>
            </tbody>
          </table>
          <p>Для проведения тестовых транзакций можно использовать следующие параметры карточки (только в тестовой среде):</p>
          <p><b>тип:</b> VISA</p>
          <p><b>номер:</b> 434179xxxxxx0051 (данное поле по умолчанию недоступно для редактирования)</p>
          <p><b>CVV/CVC2:</b> любые три цифры</p>
          <p><b>срок действия карточки:</b> любой. Для совершения оплаты с ошибкой введите декабрь месяц и год - текущий плюс 1. Например: текущий год 2019, значит значение должно быть 12/20.</p>
        </div><!-- end left side content devIntroduction -->
      </div><!-- /doc wrap -->
    </div><!-- /right side devIntroduction wrap -->

    <div class="right-side"><!-- right side switchTestReal wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content switchTestReal -->
          <h2 id="testToReal">Переход из тестовой среды в реальную</h2>
          <p>Обращаем Ваше внимание, что при переходе из тестовой в реальную среду проведения платежей необходимо выполнить ряд условий.</p>
          <h2>Смена адреса платежной страницы</h2>
          <p>Для совершения реальной оплаты заказа необходимо сформировать форму со специальными полями и POST методом перенаправить покупателя на страницу оплаты по адресу <a href="https://payment.webpay.by" target="_blank">https://payment.webpay.by</a>.</p>
          <p>Адреса платежных страниц:</p>
          <table>
            <tbody>
              <tr>
                <td>Тестовая</td>
                <td><a href="https://securesandbox.webpay.by" target="_blank">https://securesandbox.webpay.by</a></td>
              </tr>
              <tr>
                <td>Реальная</td>
                <td><a href="https://payment.webpay.by" target="_blank">https://payment.webpay.by</a></td>
              </tr>
            </tbody>
          </table>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                В реальной среде обращение к <a href="https://payment.webpay.by" target="_blank">https://payment.webpay.by</a> должно осуществляться с доменного имени, которое было указано в договоре интернет-эквайринга. При этом по правилам платежных систем поддомен считается отдельным ресурсом. То есть, если Вы указали в договоре сайт https://test.by, то и перенаправление на нашу платежную страницу должно осуществляться с https://test.by. В случае если перенаправление будет с ресурса https://bill.test.by - транзакция будет заблокирована. Referer URL регулярно проверяется в соответствии с требованиями платежных систем и банков-эквайеров. В случае если Вы намереваетесь использовать адрес сайта отличный от заявленного в договоре, обратитесь, пожалуйста, к персональному менеджеру WEBPAY.
            </p>
          </div><!-- /Attention -->
            <p>Также меняется адрес интерфейса Web-приложения:</p>
          <table>
            <tbody>
              <tr>
                <td>Тестовая</td>
                <td><a href="https://sandbox.webpay.by" target="_blank">https://sandbox.webpay.by</a></td>
              </tr>
              <tr>
                <td>Реальная</td>
                <td><a href="https://billing.webpay.by" target="_blank">https://billing.webpay.by</a></td>
              </tr>
            </tbody>
          </table>
          <h3>Смена идентификатора магазина</h3>
          <p>Значение идентификатора магазина в системе WEBPAY передается в поле <b>wsb_storeid</b>. Данный параметр создается при регистрации и высылается в письме персональным менеджером в компании WEBPAY. Необходимо заменить его на значение идентификатора магазина (<b>wsb_storeid</b>) из реальной среды.</p>
          <h3>Смена флага тестового платежа</h3>
          <p>При проведении платежей в тестовой среде в качестве флага о том, что оплату по заказу необходимо провести не через реальную систему, а с использованием эмулятора платежной системы, отвечало поле <b>wsb_test</b> со значением равным <b>1</b>. Для проведения платежей через реальную систему, необходимо установить значение поля равным <b>0</b>.</p>
        </div><!-- end left side content switchTestReal -->
      </div><!-- /doc wrap -->
    </div><!-- /right side switchTestReal wrap -->

    <!-- End Dev environment -->

    <!-- End General Information -->

    <!-- Integration Module-->

    <!-- Card Operations -->

    <div class="right-side"><!-- right side devPaymentModule wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content devPaymentModule -->
          <h2 id="integration" class="doc-title">Разработка платежного модуля</h2>
          <p>Разработка платежного модуля осуществляется на стороне сервера подключаемого клиента и предполагает создание либо внесение изменений в исходный код скриптов дорабатываемого Web-приложения.</p>
          <h3>Принцип формирования и оплаты заказа</h3>
          <ol>
            <li>Формирование заказа. Создание html-страницы с обыкновенной html-формой. В качестве полей должны быть указаны и заполнены поля, необходимые для совершения оплаты (<a href="#POSTRequest">Поля формы оплаты</a>);</li>
            <li>Осуществление перехода на платежную страницу системы WEBPAY (<a href="https://securesandbox.webpay.by" target="_blank">https://securesandbox.webpay.by</a>), для ввода реквизитов платежной карточки (переход осуществляется POST методом);</li>
            <li>Ввод данных платежной карточки;</li>
            <li>Оплата заказа;</li>
            <li>Возврат на html-страницу модуля оплаты (системой WEBPAY будет отправлен нотификатор (<a href="#paymentAlert">Извещение об оплате</a>);</li>
            <li>Проверка параметров платежа;</li>
            <li>Оказание услуги (доставка товара).</li>
          </ol>
          <h3>Формирование заказа для оплаты</h3>
          <a>Для оплаты заказа необходимо сформировать форму со специальными полями, значения и описание полей представлены в разделе <a href="#POSTRequest">Поля формы оплаты</a>, и POST методом перенаправить покупателя на страницу оплаты. Для тестирования необходимо указать адрес <a href="https://securesandbox.webpay.by" target="_blank">https://securesandbox.webpay.by</a>, для совершения реальных платежей − <a href="https://payment.webpay.by" target="_blank">https://payment.webpay.by</a>.</p>
        </div><!-- end left side content devPaymentModule -->
      </div><!-- /doc wrap -->
    </div><!-- /right side devPaymentModule wrap -->

    <div class="right-side"><!-- right side mainFields wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content mainFields -->
          <h2 id="POSTRequest" class="doc-title">Поля формы оплаты</h2>
          <h3>Основные поля форма оплаты</h3>
          <table> <!-- start table -->
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Обязательное поле</td>
                <td>Описание поля</td>
                <td>Примечание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Name">*scart</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Поле не содержит значения и обозначает тип запроса</td>
                <td data-label="Notes"></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_storeid</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Идентификатор магазина в системе WEBPAY. Данный идентификатор создается при регистрации в системе WEBPAY и высылается в письме.</td>
                <td data-label="Notes"></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_store</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Название магазина, которое будет отображаться на форме оплаты. По умолчанию берется из настроек биллинг-аккаунта.</td>
                <td data-label="Notes">Максимальная длина поля 64 символа.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_order_num</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Уникальный идентификатор заказа, присваиваемый магазином.</td>
                <td data-label="Notes">Максимальная длина поля 64 символа. При оплате через <b>ЕРИП</b> значение поля <b>не может</b> начинаться на <b>0 (ноль)</b>.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_currency_id</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Идентификатор валюты. Буквенный трехзначный код валюты согласно ISO4271.</td>
                <td data-label="Notes">Допустимые значения: <b>BYN</b>, <b>USD</b>, <b>EUR</b>, <b>RUB</b></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_version</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Версия формы оплаты.</td>
                <td data-label="Notes">Текущий номер версии: <b>2</b></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_language_id</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Идентификатор языка формы оплаты.</td>
                <td data-label="Notes">Допустимые значения: <b>russian</b>, <b>english</b>. При отсутствии значения определяется по настройкам браузера.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_seed</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Случайная последовательность символов, участвующих в формировании подписи заказа.</td>
                <td data-label="Notes">Перейти к разделу: <a href="#orderSignature">Электронная подпись заказа.</a></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_signature</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Контрольное значение (электронная подпись) заказа - результат выполнения функции <b>SHA1</b> (для версии 2, см. поле <b>wsb_version</b>) либо <b>MD5</b>, если версия протокола не указана. Данное значение является hex-последовательностью. </td>
                <td data-label="Notes">Перейти к разделу: <a href="#orderSignature">Электронная подпись заказа.</a></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_return_url</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">URL адрес, на который возвращается покупатель в случае успешной оплаты.</td>
                <td data-label="Notes">К данному URL добавляются значения Идентификатора заказа (<b>wsb_order_num</b>) и номера транзакции (<b>wsb_tid</b>) в системе WEBPAY.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_cancel_return_url</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">URL адрес, на который возвращается покупатель в случае не успешной оплаты.</td>
                <td data-label="Notes">К данному URL добавляются значение Идентификатора заказа (<b>wsb_order_num</b>).</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_notify_url</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">
                  <p>Данный URL вызывается вне зависимости от того, был ли переход по URL в поле <b>wsb_return_url</b> или нет. Основное назначение этого URL оповестить сайт об успешной оплате в случае если пользователь не нажал кнопку <b>"Вернуться на сайт"</b> на форме оплаты. По умолчанию берется из настроек биллинг-аккаунта.</p>
                  <p><b>Внимание! Отправка нотификаторов возможна только на стандартные порты: 80 (http) и 443 (https)</b></p>
                </td>
                <td data-label="Notes">Перейти к разделу: <a href="#paymentAlert">Извещение об оплате.</a></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_test</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">
                  <p>Поле, указывающее на проведение тестовой оплаты.</p>
                  <p>1 - производить тестовую оплату;</p>
                  <p>0 - производить реальную оплату.</p>
                </td>
                <td data-label="Notes">В тестовой среде Sandbox значение данного поля должно быть равным 1.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_customer_name</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Наименование получателя товара/услуги.</td>
                <td data-label="Notes">Максимальная длина поля 255 символов.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_customer_address</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Адрес получателя товара/услуги.</td>
                <td data-label="Notes">Максимальная длина поля 255 символов.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_service_date</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Сроки предоставления товаров/услуг/работ</td>
                <td data-label="Notes">Максимальная длина поля 255 символов.</td>
              </tr>
            </tbody>
          </table><!-- end table -->
        </div><!-- /left side content mainFields-->

        <div class="doc-right"> <!-- right side content mainFields-->
            <!-- code -->
          <div class="code-wrap">
            <div class="code-head">
              <h3>Example form</h3>
              <div class="select-language">
                <!-- <select name="" id="" class="select-code-lng">
                  <option value="html" selected>html</option>
                  <option value="js">javaScript</option>
                </select> -->
              </div>
            </div>
          <div class="code-body">
            <pre>
              <code class="html code-active" lang="html">
&#60;form action="https://securesandbox.webpay.by/" method="post"&#62;
  &#60;input type="hidden" name="*scart"&#62;
  &#60;input type="hidden" name="wsb_version" value="2"&#62;
  &#60;input type="hidden" name="wsb_language_id" value="Russian"&#62;
  &#60;input type="hidden" name="wsb_storeid" value="11111111"&#62;
  &#60;input type="hidden" name="wsb_store" value="Название Вашего магазина"&#62;
  &#60;input type="hidden" name="wsb_order_num" value="ORDER-12345678"&#62;
  &#60;input type="hidden" name="wsb_test" value="1"&#62;
  &#60;input type="hidden" name="wsb_currency_id" value="BYN"&#62;
  &#60;input type="hidden" name="wsb_seed" value="1242649174"&#62;
  &#60;input type="hidden" name="wsb_customer_name" value="Иванов Петр Петрович"&#62;
  &#60;input type="hidden" name="wsb_customer_address"
  value="Минск пр. Независимости д.1 кв.2"&#62;
  &#60;input type="hidden" name="wsb_service_date"
  value="Доставка до 1 января 2016 года"&#62;
  &#60;input type="hidden" name="wsb_return_url"
  value="http://yoursiteurl.com/success.php"&#62;
  &#60;input type="hidden" name="wsb_cancel_return_url"
  value="http://yoursiteurl.com/cancel.php"&#62;
  &#60;input type="hidden" name="wsb_notify_url"
  value="http://yoursiteurl.com/notify.php"&#62;
  &#60;input type="hidden" name="wsb_email" value="ivanov@test.by"&#62;
  &#60;input type="hidden" name="wsb_phone" value="375291234567"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[0]" value="Товар 1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[0]" value="2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[0]" value="10"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[1]" value="Товар 2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[1]" value="1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[1]" value="0.5"&#62;
  &#60;input type="hidden" name="wsb_total" value="21.90"&#62;
  &#60;input type="hidden" name="wsb_signature"
  value="338d1647833079f9353907ad266ec0bb5264c0d9"&#62;
  &#60;input type="hidden" name="wsb_tax" value="1050"&#62;
  &#60;input type="hidden" name="wsb_shipping_name" value="Стоимость доставки"&#62;
  &#60;input type="hidden" name="wsb_shipping_price" value="0.98"&#62;
  &#60;input type="hidden" name="wsb_discount_name" value="Скидка на товар"&#62;
  &#60;input type="hidden" name="wsb_discount_price" value="0.58"&#62;
  &#60;input type="hidden" name="wsb_order_contract"
  value="Договор №152/12-1 от 12.01.19"&#62;
  &#60;input type="submit" value="Купить"&#62;
&#60;/form&#62;
              </code>
            </pre>
          </div>
          </div> <!-- /code -->
        </div><!-- /right side content mainFields -->
      </div><!-- /doc wrap -->
    </div><!-- /right side mainFields wrap -->

    <div class="right-side"><!-- right side cartFields wrap -->
      <div class="doc-content"><!-- doc wrap -->
        <div class="doc-left"><!-- left side content -->
          <!-- left side content cartFields -->
          <h3 id="cartFields">Поля для формирования корзины товаров/услуг</h3>
          <table><!-- start table -->
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Обязательное поле</td>
                <td>Описание поля</td>
                <td>Примечание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Name">wsb_invoice_item_name[{n}]</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Наименование единицы товара.</td>
                <td data-label="Notes">Индекс {n}, должен начинаться с 0 и увеличиваться на 1 для каждой последующей позиции.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_invoice_item_quantity[{n}]</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Количество единиц товара. Целое число, обозначающее количество единиц товара каждого наименования.</td>
                <td data-label="Notes">Индекс {n}, должен начинаться с 0 и увеличиваться на 1 для каждой последующей позиции.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_invoice_item_price[{n}]</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Цена единицы товара. Число, определяющее стоимость каждой единицы товара (BYN, USD, EUR, RUB с 2 знаками после запятой или точки).</td>
                <td data-label="Notes">Индекс {n}, должен начинаться с 0 и увеличиваться на 1 для каждой последующей позиции.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_tax</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Поле, значением, которого является сумма налога в белорусских рублях, добавляемая к общей сумме заказа.</td>
                <td data-label="Notes">При оплате через ЕРИП это поле не учитывается (сумма налога добавляется к сумме единицы товара).</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_shipping_name</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Поле определяющее наименование (способ) доставки.</td>
                <td data-label="Notes">Максимальная длина поля 255 символов.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_shipping_price</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Поле, значением которого является сумма доставки, добавляемая к общей сумме заказа.</td>
                <td data-label="Notes"></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_discount_name</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Поле с описанием скидки.</td>
                <td data-label="Notes">Максимальная длина поля 255 символов.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_discount_price</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Поле, значением которого является сумма скидки, вычитаемая из общей суммы заказа.</td>
                <td data-label="Notes">Значение должно быть положительным числом (без знака <b>"-" минус</b>).</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_discount_promo_code</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Поле содержит значение промокода скидки для заказа.</td>
                <td data-label="Notes">Максимальная длина поля 32 символа.</a></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_total</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">
                  <p>Данное поле является вычисляемым. Значение этого поля является общей суммой оплаты заказа. Правила вычисления общей суммы:</p>
                  <p>wsb_total = wsb_invoice_item_quantity[0] * wsb_invoice_item_price[0] + wsb_invoice_item_quantity[1] * wsb_invoice_item_price[1] +</p>
                  <p>...</p>
                  <p>wsb_invoice_item_quantity[n] * wsb_invoice_item_price[n] + wsb_tax + wsb_shipping_price - wsb_discount_price</p>
                </td>
                <td data-label="Notes">Оплата не будет произведена, если <b>wsb_total</b> и посчитанное значение товаров не будет совпадать. Покупателю будет отображена ошибка.</td>
              </tr>
            </tbody>
          </table><!-- end table -->
        </div><!-- /left side content cartFields -->
      </div><!-- /doc wrap -->
    </div><!-- /right side cartFields wrap -->

    <div class="right-side"><!-- right side addFields wrap -->
      <div class="doc-content"><!-- doc wrap -->
        <div class="doc-left"><!-- left side content -->
          <!-- left side content addFields -->
          <h3>Дополнительные поля</h3>
          <table>
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Обязательное поле</td>
                <td>Описание поля</td>
                <td>Примечание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Name">wsb_order_tag</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Метка заказа. Используется для отнесения заказа к определенной категории, группировки заказов или других нужд.</td>
                <td data-label="Notes">Максимальная длина поля 64 символов.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_email</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Электронный адрес покупателя.</td>
                <td data-label="Notes">Значение данного поля будет автоматически подставлено в соответствующее поле формы оплаты.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_phone</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Номер телефона покупателя.</td>
                <td data-label="Notes"></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_order_contract</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Номер договора с заказчиком услуги/плательщиком.</td>
                <td data-label="Notes"></td>
              </tr>
              <tr>
                <td data-label="Name">wsb_tab</td>
                <td data-label="Required field">нет</td>
                <td data-label="Field description">Определение активной вкладки с нужным платежным инструментом (оплата картой/ЕРИП).</td>
                <td data-label="Notes">Возможные значения: <b>erip</b>, <b>cardPayment</b>. При отсутствии поля - порядок вкладок стандартный — оплата картой, потом ЕРИП</td>
              </tr>
            </tbody>
          </table><!-- end table -->
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Все текстовые поля должны быть в кодировке UTF-8 или windows-125.
            </p>
          </div><!-- /Attention -->
        </div><!-- /left side content addFields -->
      </div><!-- /doc wrap -->
    </div><!-- /right side addFields wrap -->

    <div class="right-side"><!-- right side orderSignature wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content orderSignature -->
          <h3 id="orderSignature">Электронная подпись заказа</h3>
          <p>Электронная подпись формируется для предотвращения изменений в форме платежа и должна присутствовать в каждой форме заказа. Все заказы без электронной подписи не будут рассматриваться системой WEBPAY.</p>
          <p>Для формирования электронной подписи необходимо установить значение поля <b>"Секретный ключ"</b> в настройках Вашего биллинг-аккаунта (<a href="#setSecretKey">Установка секретного ключа</a>).</p>
          <p>В каждой форме заказа необходимо указывать поля:</p>
          <p><b>wsb_seed</b> – случайная последовательность символов (можно использовать текущее значение времени, к примеру, Unix Timestamp);</p>
          <p><b>wsb_signature</b> – непосредственно сама электронная подпись. Она должна быть сформирована согласно следующему правилу из значений следующих полей:</p>
          <ul>
            <li>wsb_seed</li>
            <li>wsb_storeid</li>
            <li>wsb_order_num</li>
            <li>wsb_test</li>
            <li>wsb_currency_id</li>
            <li>wsb_total</li>
            <li>SecretKey</li>
          </ul>
          <p>Поля должны быть объединены в одну строку, порядок объединения не должен быть нарушен.</p>
          <p>Далее в зависимости от указанной версии протокола (<b>wsb_version</b>), считается MD5 (если версия не указана), либо SHA1 (для версии 2) объединенной строки.</p>
        </div><!-- end left side content orderSignature -->

        <div class="doc-right"> <!-- right side content orderSignature -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
        <div class="code-body">
          <pre>
            <!-- php -->
            <code class="php code-active" lang="php">
$wsb_seed = 1242649174;
$wsb_storeid = 11111111;
$wsb_order_num = "ORDER-12345678";
$wsb_test = 1;
$wsb_currency_id = "BYN";
$wsb_total = 21.90;
$SecretKey = "12345678901234567890";
//Значение объединенной строки:
//124264917411111111ORDER-123456781BYN21.9012345678901234567890
// для версии протокола 2 (wsb_version = 2)
$wsb_signature = sha1($wsb_seed.$wsb_storeid.$wsb_order_num.$wsb_test.
$wsb_currency_id.$wsb_total.$SecretKey);
// 338d1647833079f9353907ad266ec0bb5264c0d9
// если версия не указана
$wsb_signature = md5($wsb_seed.$wsb_storeid.$wsb_order_num.$wsb_test.
$wsb_currency_id.$wsb_total.$SecretKey);
// 5b712daa1743d1a62dfdb7054b3978a1
            </code>
          </pre>
        </div>
        </div> <!-- /code -->
      </div><!-- /right side content orderSignature -->
      </div><!-- /doc wrap -->
    </div><!-- /right side orderSignature wrap -->

    <div class="right-side"><!-- right side orderPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content orderPayment -->
          <h3>Оплата заказа</h3>
          <p>После формирования полей заказа и нажатия кнопки для выполнения платежа, покупатель должен быть перенаправлен на платежную страницу системы WEBPAY (тестовой либо реальной), где ему будет предоставлена возможность ввести реквизиты своей банковской карточки.</p>
          <p>После успешной оплаты заказа покупатель должен нажать кнопку <b>"Вернуться на сайт"</b>, в этом случае форма оплаты перенаправит его по URL-адресу, указанному в поле <b>wsb_return_url</b>.</p>
          <p>При ошибке оплаты и нажатии кнопки <b>"Назад"</b> покупатель будет перенаправлен на URL-адрес, указанный в поле <b>wsb_cancel_return_url</b>. В каждом из этих случаев к URL-адресу будут дописаны значения <b>wsb_order_num</b>, а в случае успешной оплаты, будет также дописано значение номера транзакции в системе WEBPAY.</p>
          <div><!-- Attention -->
            <p class="attention">
              <span class="attention-head">ВАЖНО!</span>
              Возможны ситуации, при которых покупатель не нажмет кнопку "Назад" на форме оплаты. Для уведомления об успешной операции система WEBPAY, через некоторое время, отсылает специальное извещение (<a href="#paymentAlert">Извещение об оплате</a>).
            </p>
          </div><!-- /Attention -->
          <img src="img/integrationRU/orderPayment.png" alt="Оплата заказа">
        </div><!-- end left side content orderPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side orderPayment wrap -->

    <div class="right-side"><!-- right side paymentAlert wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content paymentAlert -->
          <h3 id="paymentAlert">Извещение об оплате</h3>
          <p>В случае успешной оплаты, при возврате на страницу Интернет-ресурса (используется значение, указанное в поле <b>wsb_return_url</b>), система передает в параметрах GET запроса номер заказа (значение поля <b>wsb_order_num</b>) и номер транзакции (поле <b>wsb_tid</b>), соответствующие проведенному платежу.</p>
          <p>Также система известит Интернет-ресурс о проведенной операции по адресу <b>wsb_notify_url</b> (если он указан в поле формы) либо на "URL для уведомлений",значение которого можно установить в настройках биллинг-аккаунта в разделе меню <b>"Настройки" → "Компания"</b>.</p>
          <img src="img/integrationRU/notifyURL.png" alt="Установка URL для уведомлений">
          <p>В случае если адрес для получения нотификатора будет указан и в поле формы (<b>wsb_notify_url</b>), и в настройках биллинг-аккаунта, то будет использован адрес из POST-запроса, указанный в поле <b>wsb_notify_url</b>.</p>
          <p>Интернет-ресурс, в случае оповещения, должен ответить <b>кодом 200 ("HTTP/1.0 200 OK")</b>. Через 30 дней, если Интернет-ресурс так и не смог принять уведомление, отсылка запросов прекращается.</p>
          <p>При разработке необходимо учесть, что может прийти как и извещение о платеже (<b>wsb_notify_url</b>), так и покупатель может вернуться на страницу Интернет-ресурса, указанную в поле (<b>wsb_return_url</b>).</p>
        </div><!-- end left side content paymentAlert -->
      </div><!-- /doc wrap -->
    </div><!-- /right side paymentAlert wrap -->

    <div class="right-side"><!-- right side successNotify wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content successNotify -->
          <h3>Получение извещения об успешной оплате</h3>
          <p>Для получения извещения об оплате доступно два способа:</p>
          <ol>
            <li>Стандартный POST-запрос, отправляемый с АПК WEBPAY на <b>wsb_notify_url</b> (используется по умолчанию);</li>
            <li>Через механизм SOAP (может быть включен по запросу).</li>
          </ol>
        </div><!-- end left side content successNotify -->
      </div><!-- /doc wrap -->
    </div><!-- /right side successNotify wrap -->

    <div class="right-side"><!-- right side successNotifyPOST wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content successNotifyPOST -->
          <h3 id="POSTNotify">Стандартный POST-запрос, отправляемый с АПК WEBPAY на wsb_notify_url</h3>
          <p>После совершения удачного платежа, система WEBPAY отсылает специально сформированный POST-запрос по адресу, указанному в поле <b>wsb_notify_url</b> Интернет-ресурса. В этом запросе содержится информация по платежу. Полученную информацию Интернет-ресурс должен проверить в соответствии с требованиями выполнения заказа и ответить на запрос <b>кодом 200 ("HTTP/1.0 200 OK")</b>.</p>
          <p>Поля, содержащиеся в запросе:</p>
          <table>
            <tbody>
              <tr>
                <td>batch_timestamp</td>
                <td>Время совершения транзакции</td>
              </tr>
              <tr>
                <td>currency_id</td>
                <td>Валюта транзакции</td>
              </tr>
              <tr>
                <td>amount</td>
                <td>Сумма транзакции</td>
              </tr>
              <tr>
                <td>payment_method</td>
                <td>
                  <p>Метод совершения транзакции. Возможные значения:</p>
                  <p><b>test</b> - совершена без реального процессинга карточки</p>
                  <p><b>cc</b> - банковская карточка</p>
                  <p><b>erip</b> - ЕРИП</p>
                </td>
              </tr>
              <tr>
                <td>order_id</td>
                <td>Номер заказа в системе WEBPAY</td>
              </tr>
              <tr>
                <td>site_order_id</td>
                <td>Номер (имя) заказа, присвоенное магазином</td>
              </tr>
              <tr>
                <td>transaction_id</td>
                <td>Номер транзакции</td>
              </tr>
              <tr>
                <td>payment_type</td>
                <td>
                  <p>Тип транзакции. Успешной оплате соответствуют значения: 1 и 4</p>
                </td>
              </tr>
              <tr>
                <td>rrn</td>
                <td>Номер транзакции в системе VISA/MASTERCARD/БЕЛКАРТ</td>
              </tr>
              <tr>
                <td>wsb_signature</td>
                <td>Электронная подпись (вычисляется в случае, если в настройках биллинг-аккаунта указан "Секретный ключ")</td>
              </tr>
              <tr>
                <td>action</td>
                <td>Код платежа процессинга</td>
              </tr>
              <tr>
                <td>rc</td>
                <td>Внутренний код WEBPAY результата операции</td>
              </tr>
              <tr>
                <td>approval</td>
                <td>Код операции процессинга</td>
              </tr>
            </tbody>
          </table>
          <p><b>wsb_signature</b> представляет собой hex-последовательность и является результатом выполнения функции MD5. В качестве аргумента функции MD5 служит текстовая последовательность, полученная путем простой конкатенации следующих полей:</p>
          <ul>
            <li>batch_timestamp</li>
            <li>currency_id</li>
            <li>amount</li>
            <li>payment_method</li>
            <li>order_id</li>
            <li>site_order_id</li>
            <li>transaction_id</li>
            <li>payment_type</li>
            <li>rrn</li>
            <li>SecretKey</li>
          </ul>
          <p>В случае необходимости можно самостоятельно отправить повторно нотификатор по авторизованной транзакции. Для этого в биллинг-аккаунте в разделе <b>"Платежи"</b> найдите интересующую транзакцию и нажмите кнопку <b>"Отправить нотификатор"</b>.</p>
        </div><!-- end left side content successNotifyPOST -->
        <div class="doc-right"> <!-- right side content successNotifyPOST -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="HTTP code-active" lang="HTTP" >
application/x-www-form-urlencoded

{batch_timestamp=1562591640&amp;currency_id=USD&amp;amount=300&amp;payment_method=cc&amp;
order_id=127386&amp;site_order_id=16&amp;transaction_id=858578101&amp;payment_type=4&amp;
rrn=786755995452&amp;wsb_signature=001a1e46c8ba6c9934dc60975ecc9f75&amp;
action=0&amp;rc=W0001%2800%29&amp;approval=786755}
              </code>
            </pre>
          </div>
        </div>
        </div>
      </div><!-- /doc wrap -->
    </div><!-- /right side successNotifyPOST wrap -->

    <div class="right-side"><!-- right side successNotifySOAP wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content successNotifySOAP -->
          <h3>Механизм SOAP</h3>
          <p>Для механизма SOAP (может быть включен по запросу), система WEBPAY отсылает специально сформированный SOAP-запрос по адресу, указанному в поле <b>wsb_notify_url</b> Интернет-ресурса. Структура нотификатора описана в xsd схеме:</p>
          <p><b>WsbSignature</b> представляет собой hex-последовательность и является результатом выполнения функции MD5. В качестве аргумента функции MD5 служит текстовая последовательность, полученная путем простой конкатенации следующих полей:</p>
          <ul>
            <li>batch_timestamp</li>
            <li>currency_id</li>
            <li>amount</li>
            <li>payment_method</li>
            <li>order_id</li>
            <li>site_order_id</li>
            <li>transaction_id</li>
            <li>payment_type</li>
            <li>rrn</li>
            <li>card</li>
            <li>SecretKey</li>
          </ul>
          <p>Поля должны быть объединены в указанном порядке.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Поле SecretKey учитывается при формировании подписи только в реальной среде.
            </p>
          </div><!-- /Attention -->
        </div><!-- end left side content successNotifySOAP -->

        <div class="doc-right"> <!-- right side content successNotifySOAP -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="xml code-active" lang="xml" >
&#60;?xml version="1.0" encoding="UTF-8"?&#62;
&#60;xs:schema elementFormDefault="qualified"
xmlns:xs="http://www.w3.org/2001/XMLSchema"
targetNamespace="http://ws.webpay.by/notifier"&#62;
  &#60;xs:element name="NotifierRequest"&#62;
    &#60;xs:complexType&#62;
      &#60;xs:sequence&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="BatchTimestamp"
        type="xs:int"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="CurrencyId"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="Amount"
        type="xs:decimal"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="PaymentMethod"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="OrderId"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="SiteOrderId"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="TransactionId"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="PaymentType"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="RRN"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="WsbSignature"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="Action"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="1" maxOccurs="1" name="RC"
        type="xs:string"/&#62;
        &#60;xs:element minOccurs="0" name="Card" type="xs:string"/&#62;
      &#60;/xs:sequence&#62;
    &#60;/xs:complexType&#62;
  &#60;/xs:element&#62;
&#60;/xs:schema&#62;
              </code>
            </pre>
          </div>
        </div>
        </div>
      </div><!-- /doc wrap -->
    </div><!-- /right side successNotifySOAP wrap -->

    <div class="right-side"><!-- right side exSuccessNotifySOAP wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content exSuccessNotifySOAP -->
          <p>Пример запроса, согласно схеме</p>
        </div><!-- end left side content exSuccessNotifySOAP -->

        <div class="doc-right"> <!-- right side content exSuccessNotifySOAP -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="xml code-active" lang="xml" >
&#60;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&#62;
  &#60;SOAP-ENV:Header/&#62;
    &#60;SOAP-ENV:Body&#62;
        &#60;ns2:NotifierRequest xmlns:ns2="http://ws.webpay.by/notifier"&#62;
        &#60;ns2:BatchTimestamp&#62;1550480633&#60;/ns2:BatchTimestamp&#62;
        &#60;ns2:CurrencyId&#62;BYN&#60;/ns2:CurrencyId&#62;
        &#60;ns2:Amount&#62;547.5&#60;/ns2:Amount&#62;
        &#60;ns2:PaymentMethod&#62;cc&#60;/ns2:PaymentMethod&#62;
        &#60;ns2:OrderId&#62;117524&#60;/ns2:OrderId&#62;
        &#60;ns2:SiteOrderId&#62;19020402513459776&#60;/ns2:SiteOrderId&#62;
        &#60;ns2:TransactionId&#62;610030693&#60;/ns2:TransactionId&#62;
        &#60;ns2:PaymentType&#62;4&#60;/ns2:PaymentType&#62;
        &#60;ns2:RRN&#62;145043593722&#60;/ns2:RRN&#62;
        &#60;ns2:WsbSignature&#62;e71ceb051ff142c843bc3d520ac35a21&#60;/ns2:WsbSignature&#62;
        &#60;ns2:Action&#62;0&#60;/ns2:Action&#62;
        &#60;ns2:RC&#62;W0001(00)&#60;/ns2:RC&#62;
        &#60;ns2:Approval&#62;145043&#60;/ns2:Approval&#62;
        &#60;ns2:Card&#62;434444xxxxxx0001&#60;/ns2:Card&#62;
        &#60;ns2:Cardholder&#62;pv&#60;/ns2:Cardholder&#62;
        &#60;ns2:OrderTag&#62;onlinePayment&#60;/ns2:OrderTag&#62;
      &#60;/ns2:NotifierRequest&#62;
    &#60;/SOAP-ENV:Body&#62;
&#60;/SOAP-ENV:Envelope&#62;
              </code>
            </pre>
          </div>
        </div>
        </div>
      </div><!-- /doc wrap -->
    </div><!-- /right side exSuccessNotifySOAP wrap -->

    <div class="right-side"><!-- right side checkSuccessNotifySOAP wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content checkSuccessNotifySOAP -->
          <p>Полученную информацию Интернет-ресурс должен проверить в соответствии с требованиями выполнения заказа и ответить на запрос кодом:</p>
        </div><!-- end left side content checkSuccessNotifySOAP -->

        <div class="doc-right"> <!-- right side content exSuccessNotifySOAP -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="xml code-active" lang="xml" >
&#60;?xml version="1.0" encoding="UTF-8"?&#62;
&#60;xs:schema elementFormDefault="qualified"
xmlns:xs="http://www.w3.org/2001/XMLSchema"
targetNamespace="http://ws.webpay.by/notifier"&#62;
  &#60;xs:element name="NotifierResponse"&#62;
    &#60;xs:complexType&#62;
      &#60;xs:sequence&#62;
        &#60;xs:element name="code" type="xs:string"/&#62;
        &#60;xs:element name="codeDescription" type="xs:string"/&#62;
      &#60;/xs:sequence&#62;
    &#60;/xs:complexType&#62;
  &#60;/xs:element&#62;
&#60;/xs:schema&#62;
              </code>
            </pre>
          </div>
        </div>
        </div>
      </div><!-- /doc wrap -->
    </div><!-- /right side checkSuccessNotifySOAP wrap -->

    <div class="right-side"><!-- right side exCheckSuccessNotifySOAP wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content exCheckSuccessNotifySOAP -->
          <p>В ответе в поле <b>code</b> должно быть значение, равное 200 в случае, если нотификатор обработан. Если код будет не 200 - будет повторная отправка нотификатора. Значение в поле <b>codeDescription</b> может быть произвольным.</p>
          <p>В случае необходимости можно самостоятельно отправить повторно нотификатор по авторизованной транзакции. Для этого в биллинг-аккаунте в разделе <b>"Платежи"</b> найдите интересующую транзакцию и нажмите кнопку <b>"Отправить нотификатор"</b>.</p>
        </div><!-- end left side content exCheckSuccessNotifySOAP -->

        <div class="doc-right"> <!-- right side content exSuccessNotifySOAP -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="xml code-active" lang="xml" >
&#60;?xml version="1.0" encoding="UTF-8"?&#62;
&#60;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&#62;
  &#60;SOAP-ENV:Header/&#62;
  &#60;SOAP-ENV:Body&#62;
    &#60;ns2:NotifierResponse xmlns:ns2="http://ws.webpay.by/notifier"&#62;
      &#60;ns2:code&#62;200&#60;/ns2:code&#62;
      &#60;ns2:codeDescription&#62;OK&#60;/ns2:codeDescription&#62;
    &#60;/ns2:NotifierResponse&#62;
  &#60;/SOAP-ENV:Body&#62;
&#60;/SOAP-ENV:Envelope&#62;
              </code>
            </pre>
          </div>
        </div>
        </div>
      </div><!-- /doc wrap -->
    </div><!-- /right side exCheckSuccessNotifySOAP wrap -->

    <div class="right-side"><!-- right side checkPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content checkPayment -->
          <h3 id="getTransaction">Проверка платежа</h3>
          <p>Прежде чем доставить товар (оказать услугу), Интернет-ресурс обязан проверить совершенный покупателем платеж.</p>
          <p>Для проверки платежа при возврате на страницу Интернет-ресурса, указанную в поле <b>wsb_return_url</b>, необходимо выполнить API команду биллинга <b>"get_transaction"</b> (только для интернет-эквайринга).</p>
          <p>Необходимо учитывать, что запрос к тестовой среде необходимо отсылать на адрес <a href="https://sandbox.webpay.by" target="_blank">https://sandbox.webpay.by</a>, а к реальной среде <a href="https://billing.webpay.by" target="_blank">https://billing.webpay.by</a>.</p>
          <table>
            <tbody>
              <tr>
                <td>transaction_id</td>
                <td>Номер транзакции</td>
              </tr>
              <tr>
                <td>batch_timestamp</td>
                <td>Время совершения транзакции</td>
              </tr>
              <tr>
                <td>currency_id</td>
                <td>Валюта транзакции</td>
              </tr>
              <tr>
                <td>amount</td>
                <td>Сумма транзакции</td>
              </tr>
              <tr>
                <td>payment_method</td>
                <td>
                  <p>Метод совершения транзакции. Возможные значения:</p>
                  <p><b>test</b> - совершена без реального процессинга карточки</p>
                  <p><b>cc</b> - банковская карточка</p>
                </td>
              </tr>
              <tr>
                <td>payment_type</td>
                <td>
                  <p>Тип транзакции. Успешной оплате соответствуют значения: 1 и 4</p>
                </td>
              </tr>
              <tr>
                <td>order_id</td>
                <td>Номер заказа в системе WEBPAY</td>
              </tr>
              <tr>
                <td>rrn</td>
                <td>Номер транзакции в системе VISA/MASTERCARD/БЕЛКАРТ</td>
              </tr>
              <tr>
                <td>wsb_signature</td>
                <td>Электронная подпись (вычисляется в случае, если в настройках биллинг-аккаунта указан "Секретный ключ")</td>
              </tr>
            </tbody>
          </table>
          <p><b>wsb_signature</b> представляет собой hex-последовательность и является результатом выполнения функции MD5. В качестве аргумента функции MD5 служит текстовая последовательность, полученная путем простой конкатенации следующих полей:</p>
          <ul>
            <li>transaction_id</li>
            <li>batch_timestamp</li>
            <li>currency_id</li>
            <li>amount</li>
            <li>payment_method</li>
            <li>payment_type</li>
            <li>order_id</li>
            <li>rrn</li>
            <li>SecretKey</li>
          </ul>
          <p>Поля должны быть объединены в указанном порядке.</p>
        </div><!-- end left side content checkPayment -->

        <div class="doc-right"> <!-- right side content checkPayment -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="php code-active" lang="php" >
// API Request
$postdata = '*API=&API_XML_REQUEST=''.urlencode('
  &#60;?xml version="1.0" encoding="ISO-8859-1" ?&#62;
    &#60;wsb_api_request&#62;
      &#60;command&#62;get_transaction&#60;/command&#62;
      &#60;authorization&#62;
        &#60;username&#62;your_username&#60;/username&#62;
        &#60;password&#62;your_md5_password&#60;/password&#62;
      &#60;/authorization&#62;
      &#60;fields&#62;
        &#60;transaction_id&#62;123456789&#60;/transaction_id&#62;
      &#60;/fields&#62;
    &#60;/wsb_api_request&#62;
');

$curl = curl_init ("https://sandbox.webpay.by");
curl_setopt ($curl, CURLOPT_HEADER, 0);
curl_setopt ($curl, CURLOPT_POST, 1);
curl_setopt ($curl, CURLOPT_POSTFIELDS, $postdata);
curl_setopt ($curl, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt ($curl, CURLOPT_RETURNTRANSFER, 1);
curl_setopt ($curl, CURLOPT_SSL_VERIFYHOST, 0);
$response = curl_exec ($curl); curl_close ($curl);
echo $response;
              </code>
            </pre>
          </div>
        </div>
        </div>
      </div><!-- /doc wrap -->
    </div><!-- /right side checkPayment wrap -->

    <div class="right-side"><!-- right side transactionType wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content transactionType -->
          <h3 id="transactionType">Типы транзакций</h3>
          <p>По типу транзакции (поле <b>payment_type</b>) делятся на следующие группы:</p>
          <table>
            <thead>
              <tr>
                <td>Тип</td>
                <td>Значение</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Completed</td>
                <td>Завершенная</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Declined</td>
                <td>Отклоненная</td>
              </tr>
              <tr>
                <td>3</td>
                <td>Pending</td>
                <td>В обработке</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Authorized</td>
                <td>Авторизованная</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Partial Refunded</td>
                <td>Частично возвращенная</td>
              </tr>
              <tr>
                <td>6</td>
                <td>System</td>
                <td>Системная</td>
              </tr>
              <tr>
                <td>7</td>
                <td>Voided</td>
                <td>Сброшенная после авторизации</td>
              </tr>
              <tr>
                <td>8</td>
                <td>Failed</td>
                <td>Ошибка в проведении операции</td>
              </tr>
              <tr>
                <td>9</td>
                <td>Partial Voided</td>
                <td>Частичный сброс</td>
              </tr>
              <tr>
                <td>10</td>
                <td>Recurrent</td>
                <td>Рекуррентный платеж (CoF)</td>
              </tr>
              <tr>
                <td>11</td>
                <td>Refunded</td>
                <td>Возвращенная</td>
              </tr>
            </tbody>
          </table>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                При написании кода обработки дополнительных извещений следует учитывать тип транзакции. Данный тип уведомления предназначен для извещения Интернет-ресурса об успешно завершенных транзакциях и о транзакциях, которые впоследствии отменены самим Интернет-ресурсом (возврат денег покупателю).
            </p>
          </div><!-- /Attention -->
          <p>Таким образом, успешной оплате соответствуют следующие типы:</p>
          <table>
            <thead>
              <tr>
                <td>Тип</td>
                <td>Значение</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Completed</td>
                <td>Завершенная</td>
              </tr>
                <td>4</td>
                <td>Authorized</td>
                <td>Авторизованная</td>
              </tr>
                <td>10</td>
                <td>Recurrent</td>
                <td>Рекуррентный платеж (CoF)</td>
              </tr>
            </tbody>
          </table>
          <p>А отмененным платежам (возврату денег), соответствуют следующие типы:</p>
          <table>
            <thead>
              <tr>
                <td>Тип</td>
                <td>Значение</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>5</td>
                <td>Partial Refunded</td>
                <td>Частично возвращенная</td>
              </tr>
              <tr>
                <td>7</td>
                <td>Voided</td>
                <td>Сброшенная после авторизации</td>
              </tr>
              <tr>
                <td>9</td>
                <td>Partial Voided</td>
                <td>Частичный сброс</td>
              </tr>
              <tr>
                <td>11</td>
                <td>Refunded</td>
                <td>Возвращенная</td>
              </tr>
            </tbody>
          </table>
          <p>Следует также обратить внимание на то, что для тестовой среды и для реальной, суммы максимальной и минимальной транзакции различны. Для тестовой среды минимальная сумма платежа составляет 0.1 BYN, максимальной – 10 000 BYN. В реальной среде лимит транзакции устанавливается согласно с условиями договора банка-эквайера.</p>
        </div><!-- end left side content transactionType -->
      </div><!-- /doc wrap -->
    </div><!-- /right side transactionType wrap -->

    <!-- Card Operations -->

    <!-- Simplified Payment -->

    <div class="right-side"><!-- right side simplePaymentMainInfo wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content simplePaymentMainInfo -->
          <h2 id="simplifiedPayment" class="doc-title">Упрощенный платеж</h2>
          <p><b>Упрощенный платеж</b> – это метод оплаты с использованием банковской карточки, у которого, для набора параметров Учетная запись и Платежная карта Покупателя в рамках Поставщика услуг, нет необходимости вводить все платежные реквизиты. Полностью заполнить все данные необходимо только при выполнении первоначального платежа для инициирования привязки услуги к карте. Для подключения этой услуги необходимо обратиться в техническую поддержку WEBPAY и внести небольшие изменения в сценарий взаимодействия приложения Поставщика услуг с программным комплексом WEBPAY. Эта опция сделает оплату товаров для Покупателя более удобной, что, в свою очередь, повысит привлекательность ресурса.</p>
          <p>Под Покупателем понимается держатель карты, прошедший авторизацию на сайте Продавца. Прохождение авторизации тут является существенным, поскольку позволяет ассоциировать с Покупателем некий уникальный номер.</p>
          <p>Привязка карты осуществляется на стороне программного комплекса WEBPAY. Данные покупателя – маска номера карты, имя как на карте, срок действия карты, email и телефон – хранятся в привязке к уникальному номеру Покупателя. Новая карта может быть привязана Покупателем в один клик после любого успешного платежа в пользу Поставщика услуг.</p>
          <img src="img/integrationRU/newPayment.png" alt="Инициирующий платеж при сценарии Упрощенный платеж">
          <p>Привязанная к карте услуга <b>"Упрощенный платеж"</b>, при следующем приобретении товаров, позволит избежать лишнего ввода информации. Достаточно будет выбрать карту для оплаты из списка и ввести лишь CVV/CVC.</p>
          <img src="img/integrationRU/nextPayment.png" alt="Повторная оплата при сценарии Упрощенный платеж">
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                За Покупателем остается возможность, как и ранее, проводить оплату по старой схеме. Для этого достаточно не выбирать платежное средство из списка привязанных карт. Даже при наличии у Покупателя привязанной карты (или нескольких карт) последний может выполнять оплату без использования преимуществ привязки.
            </p>
          </div><!-- /Attention -->
        </div><!-- end left side content simplePaymentMainInfo -->
      </div><!-- /doc wrap -->
    </div><!-- /right side simplePaymentMainInfo wrap -->

    <div class="right-side"><!-- right side simplePayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content simplePayment -->
          <h2>Совершение платежей</h2>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Для подключения данной услуги, необходимо обратиться к менеджеру компании WEBPAY по адресу <a href="mailto:managers@webpay.by">managers@webpay.by</a>
            </p>
          </div><!-- /Attention -->
          <p>Для внедрения услуги <b>"Упрощенный платеж"</b> Поставщику услуг достаточно внести минимальные изменения в POST-запрос из раздела <a href="#integration">Разработка платежного модуля</a> для перехода к выполнению оплаты. Стоит обратить внимание, что оплата в тестовой среде по умолчанию производится всегда по одной карте, которая подставляется автоматически. Для того, чтобы была возможность ввести разные карты и произвести их привязку, параметру <b>wsb_test</b> необходимо установить значение равное <b>0</b>.</p>
          <p>Также добавляется одно новое поле - <b>wsb_customer_id</b> – это поле, содержит уникальный номер зарегистрированного Покупателя на стороне Поставщика услуг (максимальная длина поля 64 символа).</p>
          <p>Данный параметр должен участвовать в формировании подписи заказа. Таким образом, изменяется алгоритм расчета подписи заказа. Электронная подпись <b>wsb_signature</b> должна быть сформирована согласно следующему правилу из значений следующих полей:</p>
          <ul>
            <li>wsb_seed</li>
            <li>wsb_storeid</li>
            <li>wsb_customer_id</li>
            <li>wsb_order_num</li>
            <li>wsb_test</li>
            <li>wsb_currency_id</li>
            <li>wsb_total</li>
            <li>SecretKey</li>
          </ul>
          <p>Поля должны быть объединены в одну строку, порядок объединения не должен быть нарушен. Далее, в зависимости от указанной версии протокола (<b>wsb_version</b>), считается MD5 (если версия не указана), либо SHA1 (для версии 2) объединенной строки.</p>
          <div><!-- Attention -->
            <div class="attention">
                <span class="attention-head">ВАЖНО!</span>
                <ol>
                  <li>Если не внести изменения в протокол взаимодействия с программным комплексом WEBPAY, то все оплаты будут проводиться по стандартной схеме.</li>
                  <li>Для того, чтобы была возможность ввести разные карты и произвести их привязку, параметру <b>wsb_test</b> необходимо установить значение равное <b>0</b>.</li>
                  <li>При тестировании можно указывать любые 16-значные номера карт VISA или MASTERCARD. Создать набор таких карт можно с помощью ресурса <a href="http://www.getcreditcardnumbers.com" target="_blank">http://www.getcreditcardnumbers.com</a>.</li>
                </ol>
            </div>
          </div><!-- /Attention -->
        </div><!-- end left side content simplePayment -->
        <div class="doc-right"> <!-- right side content simplePayment -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="html code-active" lang="html" >
&#60;form action="https://securesandbox.webpay.by/" method="post"&#62;
  &#60;input type="hidden" name="*scart"&#62;
  &#60;input type="hidden" name="wsb_version" value="2"&#62;
  &#60;input type="hidden" name="wsb_language_id" value="Russian"&#62;
  &#60;input type="hidden" name="wsb_storeid" value="11111111"&#62;
  &#60;input type="hidden" name="wsb_store" value="Название Вашего магазина"&#62;
  &#60;input type="hidden" name="wsb_order_num" value="ORDER-12345678"&#62;
  &#60;input type="hidden" name="wsb_test" value="0"&#62;
  &#60;input type="hidden" name="wsb_currency_id" value="BYN"&#62;
  &#60;input type="hidden" name="wsb_seed" value="1242649174"&#62;
  &#60;input type="hidden" name="wsb_return_url"
  value="http://yoursiteurl.com/success.php"&#62;
  &#60;input type="hidden" name="wsb_cancel_return_url"
  value="http://yoursiteurl.com/cancel.php"&#62;
  &#60;input type="hidden" name="wsb_notify_url"
  value="http://yoursiteurl.com/notify.php"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[0]" value="Товар 1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[0]" value="2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[0]" value="10"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[1]" value="Товар 2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[1]" value="1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[1]" value="0.5"&#62;
  &#60;input type="hidden" name="wsb_total" value="21.90"&#62;
  &#60;input type="hidden" name="wsb_signature"
  value="86832487d9996b0f863bcd655023a281ac88727d"&#62;
  &#60;input type="hidden" name="wsb_shipping_name" value="Стоимость доставки"&#62;
  &#60;input type="hidden" name="wsb_shipping_price" value="0.98"&#62;
  &#60;input type="hidden" name="wsb_discount_name" value="Скидка на товар"&#62;
  &#60;input type="hidden" name="wsb_discount_price" value="0.58"&#62;
  &#60;input type="hidden" name="wsb_customer_id" value="1234567"&#62;
  &#60;input type="submit" value="Купить"&#62;
&#60;/form&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content simplePayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side simplePayment wrap -->

    <!-- End Simplified Payment -->

    <!-- Recurring Payment -->

    <div class="right-side"><!-- right side recurringPaymentMainInfo wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content recurringPaymentMainInfo -->
          <h2 id="recurringPayment" class="doc-title">Рекуррентный платеж</h2>
          <p>В системе WEBPAY существует два способа осуществления оплаты без участия Держателя карты:</p>
          <ol>
            <li><b>Рекуррентные платежи</b> – это платежи с определенной периодичностью, осуществляемые без участия Держателя карты, по требованию Магазина: при наступлении определенных событий либо на регулярной основе. В качестве требования Магазина выступает специально сформированный запрос, отправляемый на ресурс платежного сервиса.</li>
            <li><b>Credential on File (CoF)</b> – это платежи, осуществляемые по привязанной карте, в которых не соблюдается периодичность списаний. Инициатором таких списаний может выступать:
              <ul>
                <li>Магазин;</li>
                <li>Держатель карты;</li>
              </ul>
            </li>
          </ol>
          <p>До проведения рекуррентных (CoF) платежей необходимо осуществить инициирующий платеж, служащий контрактом, с участием Держателя карты и с вводом всех данных карты по стандартному сценарию. Дальнейшее осуществление рекуррентных (CoF) платежей происходит без участия Держателя карты и без передачи CVV. Инициирующий платёж поддерживает 3-D Secure (3DS). Рекуррентные (CoF) платежи не имеют возможности обеспечить поддержку 3DS.</p>
          <p>Сумма рекуррентного (CoF) платежа может не совпадать с суммой инициирующего платежа. Настройки типа транзакции осуществляются на стороне WEBPAY в зависимости от бизнес-процесса Магазина.</p>
        </div><!-- end left side content recurringPaymentMainInfo -->
      </div><!-- /doc wrap -->
    </div><!-- /right side recurringPaymentMainInfo wrap -->

    <div class="right-side"><!-- right side recurringScenario wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content recurringScenario -->
          <h2>Сценарий использования рекуррентных (Credential on File) платежей</h2>
          <p>Держатель карты осуществляет переход с ресурса Магазина POST запросом на ресурс платежного сервиса, после чего Держателю карты предлагается ввести реквизиты банковской платежной карты и дополнительные параметры. Далее осуществляется стандартный сценарий проведения платежа, включая, при необходимости, прохождение 3DS.</p>
          <p>В случае успешного завершения платежа сервис привязывает карту к Держателю карты Магазина идентифицируемого описанным далее способом.</p>
          <p>По завершении платежа возможен переход на ресурс Магазина на один из URL, указанных Магазином (для случаев успешного (параметр <b>wsb_return_url</b>) и неудачного (параметр <b>wsb_cancel_return_url</b>) завершения платежа). Дополнительно отправляется нотификатор на еще один URL (параметр <b>wsb_notify_url</b>). Нотификатор с сообщением о результате инициирующего платежа содержит идентификатор пользователя, маскированный номер карты и срок действия подписки на механизм рекуррентных (CoF) платежей.</p>
          <p>При успешном инициирующем платеже Магазин может проводить рекуррентные (CoF) платежи.</p>
        </div><!-- end left side content recurringScenario -->
      </div><!-- /doc wrap -->
    </div><!-- /right side recurringScenario wrap -->

    <div class="right-side"><!-- right side IDCardHolder wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content IDCardHolder -->
          <h2>Идентификацонный номер держателя карты, параметры привязки карты</h2>
          <p>Держатель карты должен быть зарегистрирован на ресурсе Магазина. Магазин присваивает ему уникальный идентификатор, передаваемый в запросах на проведение платежей как параметр <b>wsb_сustomer_id</b>. К данному идентификатору для данного Магазина (<b>wsb_storeid</b>) будет осуществлена привязка карты.</p>
        </div><!-- end left side content IDCardHolder -->
      </div><!-- /doc wrap -->
    </div><!-- /right side IDCardHolder wrap -->

    <div class="right-side"><!-- right side recurringRequests wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content recurringRequests -->
          <h2>Запросы</h2>
          <h3 id="recurringFields">Дополнительные поля формы оплаты</h3>
          <p>С описанием основных полей для осуществления POST-запроса можно ознакомиться в разделе <a href="#POSTRequest">Поля формы оплаты</a>.</p>
          <p>Для указания в авторизационном запросе использования рекуррентных (CoF) платежей необходимо дополнительно использовать следующие поля.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Все текстовые поля должны быть в кодировке UTF-8.
            </p>
          </div><!-- /Attention -->
          <table>
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Обязательное поле</td>
                <td>Описание поля</td>
                <td>Примечание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-label="Name">wsb_customer_id</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Уникальный идентификатор пользователя в Магазине</td>
                <td data-label="Notes">Максимальная длина поля 64 символа.</td>
              </tr>
              <tr>
                <td data-label="Name">wsb_operation_type</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Поле не содержит значения и обозначает тип запроса</td>
                <td data-label="Notes">Допустимые значения:
                  <ul>
                    <li><b>recurring_bind</b> – привязать карту к аккаунту</li>
                    <li><b>recurring_pay</b> – осуществить рекуррентный (CoF) платеж</li>
                    <li><b>recurring_unbind</b> – отвязать карту от аккаунта</li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td data-label="Name">wsb_recurring_token</td>
                <td data-label="Required field">да</td>
                <td data-label="Field description">Уникальный токен привязки карты к идентификатору пользователя в Магазине (<b>wsb_customer_id</b>)</td>
                <td data-label="Notes">Значение данного поля соответствует значению поля <b>recurring_token</b>, переданного в нотификаторе после привязки карты.</td>
              </tr>
            </tbody>
          </table>
        </div><!-- end left side content recurringRequests -->
      </div><!-- /doc wrap -->
    </div><!-- /right side recurringRequests wrap -->

    <div class="right-side"><!-- right side requestAddress wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content requestAddress -->
          <h3>Адреса платежного сервиса для осуществления запросов</h3>
          <p>Для осуществления рекуррентных (CoF) запросов в тестовом режиме необходимо использовать адрес <a href="https://securesandbox.webpay.by" target="_blank">https://securesandbox.webpay.by</a>, для совершения реальных платежей <a href="https://payment.webpay.by" target="_blank">https://payment.webpay.by</a>.</p>
        </div><!-- end left side content requestAddress -->
      </div><!-- /doc wrap -->
    </div><!-- /right side requestAddress wrap -->

    <div class="right-side"><!-- right side initiatingPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content initiatingPayment -->
          <h3>Инициирующий платеж</h3>
          <p>Для осуществления инициирующего платежа необходимо сформировать форму со специальными полями, значения и описания которых представлены в разделе <a href="#POSTRequest">Поля формы оплаты</a> и <a href="#recurringFields">Дополнительные поля формы оплаты</a>. Затем POST методом перенаправить покупателя на страницу платежного сервиса.</p>
          <p>Для того, чтобы в тестовой среде был доступен ввод разных номеров карт, необходимо параметр <b>wsb_test</b> передать со значением<b> 0</b>.</p>
          <p>Для предотвращения несанкционированных изменений в форме платежа должна присутствовать электронная подпись заказа, параметр <b>wsb_signature</b>. Попытки осуществить платежи без электронной подписи не будут рассматриваться платежной системой.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Для формирования электронной подписи необходимо установить значение поля "Секретный ключ" (SecretKey) в настройках Вашего биллинг-аккаунта (ознакомиться можно в разделе <a href="#setSecretKey">Установка секретного ключа</a>).
            </p>
          </div><!-- /Attention -->
          <p>Подпись вычисляется по следующему алгоритму:</p>
          <ol>
            <li>Указанные поля должны быть объединены в одну строку, порядок объединения не должен быть нарушен:
              <ul>
                <li>wsb_seed</li>
                <li>wsb_storeid</li>
                <li>wsb_customer_id</li>
                <li>wsb_order_num</li>
                <li>wsb_test</li>
                <li>wsb_currency_id</li>
                <li>wsb_total</li>
                <li>wsb_operation_type</li>
                <li>SecretKey</li>
              </ul>
            </li>
            <li>Далее в зависимости от указанной версии протокола (<b>wsb_version</b>), считается MD5 (если версия не указана), либо SHA1 (для версии 2) объединенной строки.</li>
          </ol>
        </div><!-- end left side content initiatingPayment -->
        <div class="doc-right"> <!-- right side content initiatingPayment -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="html code-active" lang="html" >
&#60;form action="https://securesandbox.webpay.by/" method="post"&#62;
  &#60;input type="hidden" name="*scart"&#62;
  &#60;input type="hidden" name="wsb_version" value="2"&#62;
  &#60;input type="hidden" name="wsb_language_id" value="Russian"&#62;
  &#60;input type="hidden" name="wsb_storeid" value="11111111"&#62;
  &#60;input type="hidden" name="wsb_store" value="Название Вашего магазина"&#62;
  &#60;input type="hidden" name="wsb_order_num" value="ORDER-12345678"&#62;
  &#60;input type="hidden" name="wsb_test" value="0"&#62;
  &#60;input type="hidden" name="wsb_currency_id" value="BYN"&#62;
  &#60;input type="hidden" name="wsb_seed" value="1242649174"&#62;
  &#60;input type="hidden" name="wsb_return_url"
  value="http://yoursiteurl.com/success.php"&#62;
  &#60;input type="hidden" name="wsb_cancel_return_url"
  value="http://yoursiteurl.com/cancel.php"&#62;
  &#60;input type="hidden" name="wsb_notify_url"
  value="http://yoursiteurl.com/notify.php"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[0]" value="Товар 1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[0]" value="2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[0]" value="10"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[1]" value="Товар 2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[1]" value="1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[1]" value="0.5"&#62;
  &#60;input type="hidden" name="wsb_total" value="21.90"&#62;
  &#60;input type="hidden" name="wsb_signature"
  value="9418af1d506f8f8da1dc577278a1f0d89eecc66d"&#62;
  &#60;input type="hidden" name="wsb_shipping_name" value="Стоимость доставки"&#62;
  &#60;input type="hidden" name="wsb_shipping_price" value="0.98"&#62;
  &#60;input type="hidden" name="wsb_discount_name" value="Скидка на товар"&#62;
  &#60;input type="hidden" name="wsb_discount_price" value="0.58"&#62;
  &#60;input type="hidden" name="wsb_email" value="ivanov@test.by"&#62;
  &#60;input type="hidden" name="wsb_phone" value="375291234567"&#62;
  &#60;input type="hidden" name="wsb_customer_id" value="aA1217Zz"&#62;
  &#60;input type="hidden" name="wsb_operation_type" value="recurring_bind"&#62;
  &#60;input type="submit" value="Купить"&#62;
&#60;/form&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content initiatingPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side initiatingPayment wrap -->

    <div class="right-side"><!-- right side notifyInitialPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content notifyInitialPayment -->
          <h3>Оповещение после инициирующей оплаты</h3>
          <p>После успешной оплаты Плательщику отправляется email с чеком оплаты и сообщением о подписке. Магазину отправляется нотификатор в виде специально сформированного POST-запроса. Поля содержащиеся в нотификаторе представлены ниже.</p>
          <table>
            <thead>
              <tr>
                <td>Название</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>batch_timestamp</td>
                <td>Время совершения транзакции</td>
              </tr>
              <tr>
                <td>currency_id</td>
                <td>Валюта транзакции</td>
              </tr>
              <tr>
                <td>amount</td>
                <td>Сумма транзакции</td>
              </tr>
              <tr>
                <td>payment_method</td>
                <td>Метод совершения транзакции. Возможные значения: <b>сс</b> – банковская карточка; <b>test</b> – совершена без реального процессинга карточки</td>
              </tr>
              <tr>
                <td>order_id</td>
                <td>Номер заказа в системе WEBPAY</td>
              </tr>
              <tr>
                <td>site_order_id</td>
                <td>Номер (имя) заказа, присвоенное Магазином</td>
              </tr>
              <tr>
                <td>transaction_id</td>
                <td>Номер транзакции</td>
              </tr>
              <tr>
                <td>payment_type</td>
                <td>Тип транзакции. Подробнее можно ознакомиться в разделе <a href="#transactionType">Типы транзакций</a></td>
              </tr>
              <tr>
                <td>rrn</td>
                <td>Номер транзакции в системе VISA/MASTERCARD</td>
              </tr>
              <tr>
                <td>wsb_signature</td>
                <td>Электронная подпись</td>
              </tr>
              <tr>
                <td>action</td>
                <td>Код платежа процессинга</td>
              </tr>
              <tr>
                <td>rc</td>
                <td>Внутренний код WEBPAY результата операции</td>
              </tr>
              <tr>
                <td>approval</td>
                <td>Код операции процессинга</td>
              </tr>
              <tr>
                <td>rc_text</td>
                <td>Текстовое представление внутреннего кода WEBPAY</td>
              </tr>
              <tr>
                <td>card</td>
                <td>Маскированный номер карты, по которой осуществлены платеж и привязка</td>
              </tr>
              <tr>
                <td>customer_id</td>
                <td>Идентификатор пользователя в системе Магазина</td>
              </tr>
              <tr>
                <td>operation_type</td>
                <td>Наименование выполненной операции: <b>recurring_bind</b> – привязать карту к аккаунту; <b>recurring_pay</b> – осуществить рекуррентный (CoF) платеж; <b>recurring_unbind</b> – отвязать карту от аккаунта</td>
              </tr>
              <tr>
                <td>recurring_token</td>
                <td>Токен привязки карты, предназначенный для выполнения последующих рекуррентных (CoF) платежей</td>
              </tr>
              <tr>
                <td>offer_exp_date</td>
                <td>Срок действия карты в формате YYYY-MM-DD (например, 2016-10-31)</td>
              </tr>
            </tbody>
          </table>
          <p>Параметр <b>wsb_signature</b> сформирован согласно следующему правилу. Значения следующих полей должны быть объединены в одну строку, порядок объединения не должен быть нарушен:</p>
          <ul>
            <li>batch_timestamp</li>
            <li>currency_id</li>
            <li>amount</li>
            <li>payment_method</li>
            <li>order_id</li>
            <li>site_order_id</li>
            <li>transaction_id</li>
            <li>payment_type</li>
            <li>rrn</li>
            <li>card</li>
            <li>customer_id</li>
            <li>operation_type</li>
            <li>recurring_token</li>
            <li>offer_exp_date</li>
            <li>SecretKey</li>
          </ul>
        <p>По умолчанию считается MD5 строки.</p>
        </div><!-- end left side content notifyInitialPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side notifyInitialPayment wrap -->

    <div class="right-side"><!-- right side recurringPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content recurringPayment -->
          <h3>Рекуррентный платеж (Credential on File)</h3>
          <p>В форме запроса относительно инициирующего платежа производятся следующие изменения:</p>
          <p>Параметр <b>wsb_recurring_token</b> включается в подпись после параметра <b>wsb_operation_type</b>:</p>
          <ul>
            <li>wsb_seed</li>
            <li>wsb_storeid</li>
            <li>wsb_customer_id</li>
            <li>wsb_order_num</li>
            <li>wsb_test</li>
            <li>wsb_currency_id</li>
            <li>wsb_total</li>
            <li>wsb_operation_type</li>
            <li>wsb_recurring_token</li>
            <li>SecretKey</li>
          </ul>
          <p>При получении запроса для оплаты заказа, система WEBPAY проверяет срок действия рекуррентного (CoF) платежа. Если срок подписки истек, платеж совершен не будет. При валидном сроке подписки карты для данного пользователя происходит оплата услуги без отображения платежной страницы.</p>
        </div><!-- end left side content recurringPayment -->
        <div class="doc-right"> <!-- right side content -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="html code-active" lang="html" >
&#60;form action="https://securesandbox.webpay.by/" method="post"&#62;
  &#60;input type="hidden" name="*scart"&#62;
  &#60;input type="hidden" name="wsb_version" value="2"&#62;
  &#60;input type="hidden" name="wsb_language_id" value="Russian"&#62;
  &#60;input type="hidden" name="wsb_storeid" value="11111111"&#62;
  &#60;input type="hidden" name="wsb_store" value="Название Вашего магазина"&#62;
  &#60;input type="hidden" name="wsb_order_num" value="ORDER-12345678"&#62;
  &#60;input type="hidden" name="wsb_test" value="0"&#62;
  &#60;input type="hidden" name="wsb_currency_id" value="BYN"&#62;
  &#60;input type="hidden" name="wsb_seed" value="1242649174"&#62;
  &#60;input type="hidden" name="wsb_return_url"
  value="http://yoursiteurl.com/success.php"&#62;
  &#60;input type="hidden" name="wsb_cancel_return_url"
  value="http://yoursiteurl.com/cancel.php"&#62;
  &#60;input type="hidden" name="wsb_notify_url"
  value="http://yoursiteurl.com/notify.php"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[0]" value="Товар 1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[0]" value="2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[0]" value="10"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[1]" value="Товар 2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[1]" value="1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[1]" value="0.5"&#62;
  &#60;input type="hidden" name="wsb_total" value="21.90"&#62;
  &#60;input type="hidden" name="wsb_signature"
  value="d0a6ec427fc2e0b5c90729606ee819e2684b9824"&#62;
  &#60;input type="hidden" name="wsb_shipping_name" value="Стоимость доставки"&#62;
  &#60;input type="hidden" name="wsb_shipping_price" value="0.98"&#62;
  &#60;input type="hidden" name="wsb_discount_name" value="Скидка на товар"&#62;
  &#60;input type="hidden" name="wsb_discount_price" value="0.58"&#62;
  &#60;input type="hidden" name="wsb_email" value="ivanov@test.by"&#62;
  &#60;input type="hidden" name="wsb_phone" value="375291234567"&#62;
  &#60;input type="hidden" name="wsb_customer_id" value="aA1217Zz"&#62;
  &#60;input type="hidden" name="wsb_operation_type" value="recurring_pay"&#62;
  &#60;input type="hidden" name="wsb_recurring_token" value="123456789"&#62;
  &#60;input type="submit" value="Купить"&#62;
&#60;/form&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content -->
      </div><!-- /doc wrap -->
    </div><!-- /right side recurringPayment wrap -->

    <div class="right-side"><!-- right side notifyRecurringPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content notifyRecurringPayment -->
          <h3>Оповещение после рекуррентного платежа</h3>
          <p>После успешной оплаты Магазину отправляется нотификатор с аналогичными полями, описанными в предыдущем разделе, с некоторыми исключениями. Запрос не содержит поле <b>offer_exp_date</b> и соответственно данное поле не участвует в расчете подписи.</p>
          <p>Также в ответ на запрос на оплату рекуррентного платежа Магазин получает оповещение в формате JSON.</p>
        </div><!-- end left side content notifyRecurringPayment -->

        <div class="doc-right"> <!-- right side content notifyRecurringPayment -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="http code-active" lang="http" >
//Ответ об успешном рекуррентном платеже
Content-Type: application/x-www-form-urlencoded
batch_timestamp=1586712564&currency_id=BYN&amount=15&payment_method=cc&
order_id=294088281&site_order_id=ORDER-15&transaction_id=650449721&
payment_type=10&rrn=210476022664&
wsb_signature=66e6be413ea2d8638174e3b69f1ffd32&
action=0&rc=W0001%2800%29&approval=210476&rc_text=Операция завершена успешно&
card=516052xxxxxx9495&customer_id=test_1&operation_type=recurring_pay&
recurring_token=650449721

//Ответ об ошибке рекуррентного платежа
Content-Type: application/x-www-form-urlencoded
batch_timestamp=1586714748&currency_id=BYN&amount=35&payment_method=cc&
order_id=0&site_order_id=ORDER-16&
transaction_id=0&payment_type=2&rrn=&
wsb_signature=25ac063bbf766c4401858439f3fbd61c&action=4&rc=W0319&approval= &
rc_text=Ошибка&card=516052xxxxxx9495&customer_id=test_1&
operation_type=recurring_bind&recurring_token=0&offer_exp_date=2022-10-31
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content notifyRecurringPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side notifyRecurringPayment wrap -->

    <div class="right-side"><!-- right side unbindingPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content unbindingPayment -->
          <h3>Отвязка карты от рекуррентных (Credential on File) платежей</h3>
          <p>Форма запроса на отвязку карты от рекуррентных (CoF) платежей должна состоять из следующего набора полей:</p>
          <ul>
            <li>wsb_version</li>
            <li>wsb_seed</li>
            <li>wsb_storeid</li>
            <li>wsb_customer_id</li>
            <li>wsb_operation_type</li>
            <li>wsb_recurring_token</li>
            <li>wsb_signature</li>
          </ul>
          <p>Параметр <b>wsb_signature</b> вычисляется путем объединения в одну строку, следующих полей:</p>
          <ul>
            <li>wsb_seed</li>
            <li>wsb_storeid</li>
            <li>wsb_customer_id</li>
            <li>wsb_operation_type</li>
            <li>wsb_recurring_token</li>
            <li>SecretKey</li>
          </ul>
          <p>Порядок объединения полей не должен быть нарушен. Далее в зависимости от указанной версии протокола (<b>wsb_version</b>), считается MD5 (если версия не указана), либо SHA1 (для версии 2) объединенной строки.</p>
        </div><!-- end left side content unbindingPayment -->
        <div class="doc-right"> <!-- right side content unbindingPayment -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="PHP code-active" lang="PHP">
&#60;!DOCTYPE html&#62;
&#60;html&#62;
  &#60;head&#62;
    &#60;title&#62;&#60;/title&#62;
    &#60;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&#62;
  &#60;/head&#62;
  &#60;?php
    $secret_key = 'jPwe3d5nmN';
    $wsb_storeid = '507990464';
    $wsb_seed = time();
    $wsb_customer_id = '111333';
    $operation_type = 'recurring_unbind';
    $wsb_recurring_token = 904928145;
    $wsb_signature = sha1($wsb_seed.$wsb_storeid.$wsb_customer_id.
    $operation_type.$wsb_recurring_token.$secret_key);
  ?&#62;
  &#60;body&#62;
    &#60;form action="http://securesandbox.webpay.by" method="post" target="_blanc"&#62;
      &#60;input type="hidden" name="*scart"&#62;
      &#60;input type="hidden" name="wsb_version" value="2" /&#62;
      &#60;input type="hidden" name="wsb_seed" value="&#60;?=$wsb_seed?&#62;"&#62;
      &#60;input type="hidden" name="wsb_storeid" value="&#60;?=$wsb_storeid?&#62;"&#62;
      &#60;input type="hidden" name="wsb_customer_id"
      value="&#60;?= $wsb_customer_id ?&#62;"&#62;
      &#60;input type="hidden" name="wsb_operation_type"
      value="&#60;?= $operation_type ?&#62;"&#62;
      &#60;input type="hidden" name="wsb_recurring_token"
      value="&#60;?= $wsb_recurring_token ?&#62;"&#62;
      &#60;input type="hidden" name="wsb_signature" value="&#60;?= $wsb_signature ?&#62;"&#62;
      &#60;input type="submit" value="Отказ от подписки на рекуррентные платежи"&#62;
    &#60;/form&#62;
    &#60;/body&#62;
&#60;/html&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content unbindingPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side unbindingPayment wrap -->

    <div class="right-side"><!-- right side notifyUnbindingPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content notifyUnbindingPayment -->
          <h3>Оповещение после отвязки карты от рекуррентных платежей</h3>
          <p>После каждого запроса на отвязку система WEBPAY отправляет ответ об успешной либо ошибочной отвязке.</p>
        </div><!-- end left side content notifyUnbindingPayment -->
        <div class="doc-right"> <!-- right side content notifyUnbindingPayment -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
//пример ответа об успешной отвязке
Content-Type: application/json; charset=utf-8
{"batch_timestamp":1586734397,"customer_id":"test_1",
"operation_type":"recurring_unbind","recurring_token":"606799416",
"rc":"0","rc_text":"Operation success"}

//пример ответа об ошибке
Content-Type: application/json; charset=utf-8
{"batch_timestamp":1586734514,"customer_id":"test_12",
"operation_type":"recurring_unbind","recurring_token":"606799416",
"rc":"1018","rc_text":"Operation failed"}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content notifyUnbindingPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side notifyUnbindingPayment wrap -->

    <div class="right-side"><!-- right side refundRecurringPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content refundRecurringPayment -->
          <h3>Полный или частичный возврат денежных средств</h3>
          <p>После успешной привязки карты или рекуррентной (CoF) оплаты через систему WEBPAY, в зависимости от выбранного Магазином банка-эквайера, платежи принимают следующие статусы:</p>
          <table>
            <thead>
              <tr>
                <td>Банк-эквайер</td>
                <td>Тип транзакции</td>
                <td>Статус транзакции</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td rowspan="3">"Приорбанк" ОАО</td>
                <td>Инициирующий</td>
                <td>Authorized → Completed</td>
              </tr>
              <tr>
                <td>Рекуррентный</td>
                <td>Recurrent</td>
              </tr>
              <tr>
                <td>Credential on File</td>
                <td>Completed</td>
              </tr>
              <tr>
                <td rowspan="3">ЗАО "МТБанк"<br>ОАО "Белагропромбанк"<br>ОАО "БПС-Сбербанк"</td>
                <td>Инициирующий</td>
                <td>Authorized → Completed</td>
              </tr>
              <tr>
                <td>Рекуррентный</td>
                <td>Authorized → Completed</td>
              </tr>
            </tbody>
          </table>
          <p>В случае возникновения ситуации, когда необходимо совершить полный или частичный возврат денежных средств, следует воспользоваться API (раздел <a href="#wsbAPI">Web функции</a>). Предварительно необходимо направить запрос в службу поддержки компании WEBPAY на <a href="mailto:support@webpay.by">support@webpay.by</a>, указав IP адрес, с которого будут производиться запросы. В зависимости от банка-эквайера и типа транзакции, будет использоваться различный API-запрос на осуществление сброса/возврата.</p>
          <table>
            <thead>
              <tr>
                <td>Банк-эквайер</td>
                <td>Тип транзакции</td>
                <td>Вид запроса</td>
                <td>Статус транзакции</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td rowspan="2">"Приорбанк" ОАО</td>
                <td>Инициирующий, Рекуррентный</td>
                <td>TransactionCancel (с указанием суммы, которая должна быть возвращена держателю карты)</td>
                <td>Voided</td>
              </tr>
              <tr>
                <td>Credential on File</td>
                <td>TransactionRefund (с указанием суммы, которая должна быть возвращена держателю карты)</td>
                <td>Refunded</td>
              </tr>
              <tr>
                <td rowspan="3">"МТБанк" ЗАО<br>"Белагропромбанк" ОАО<br>"БПС-Сбербанк" ОАО</td>
                <td>Инициирующий</td>
                <td>TransactionCancel (с указанием суммы, которая должна быть возвращена держателю карты)</td>
                <td>Voided</td>
              </tr>
              <tr>
                <td rowspan="2">Рекуррентный</td>
                <td>TransactionComplete (частичное финансовое завершение на сумму, которая должна быть зачислена Магазину)</td>
                <td>Completed</td>
              </tr>
              <tr>
                <td>TransactionRefund (с указанием суммы, которая должна быть возвращена держателю карты)</td>
                <td>Refund</td>
              </tr>
            </tbody>
          </table>
        </div><!-- end left side content refundRecurringPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side refundRecurringPayment wrap -->

    <!-- End Recurring Payment -->

    <!--  Credit Cards (Prior, Halva, Halva+) -->

    <div class="right-side"><!-- right side prior_halva wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content prior_halva -->
          <h2 id="installment" class="doc-title">Совершение платежей по картам рассрочки "Приорбанк" ОАО и ЗАО "МТБанк"</h2>
          <p>Для совершения платежей по картам рассрочки "Приорбанк" ОАО или ЗАО "МТБанк" (Халва) достаточно сформировать стандартный авторизационный (POST) запрос согласно разделу <a href="#integration">Разработка платежного модуля</a>.</p>
          <p>Товары, оплачиваемые по картам рассрочки "Приорбанк" ОАО или ЗАО "МТБанк" (Халва), подпадают под определенный тип рассрочки. У поставщика услуг может быть несколько типов рассрочки (1 месяц, 3 месяца и т.п.). Каждому из типов рассрочки соответствует номер терминала, заведенный в "Приорбанк" ОАО или ЗАО "МТБанк" (Халва) для поставщика услуг. Указание, какой именно тип рассрочки необходимо использовать для переданного заказа, происходит на стороне поставщика услуг. Предположим, что существует два активных типа рассрочки:</p>
          <table>
            <thead>
              <tr>
                <td>Тип рассрочки</td>
                <td>Номер терминала</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1 месяц</td>
                <td>90000001</td>
              </tr>
              <tr>
                <td>3 месяца</td>
                <td>80000003</td>
              </tr>
            </tbody>
          </table>
          <p>Для указания в авторизационном запросе используемого типа рассрочки необходимо дополнительно передать параметр <b>wsb_terminal</b>, который должен содержать номер терминала в соответствии с типом рассрочки. Данное значение передается банком-эквайером Магазину при заключении договора. В примере указан запрос для заказа с типом рассрочки 3 месяца.</p>
          <p>Данный параметр должен участвовать в формировании подписи заказа. Таким образом, при указании типа рассрочки в авторизационном запросе, изменяется алгоритм расчета подписи заказа. Электронная подпись <b>wsb_signature</b> должна быть сформирована согласно следующему правилу из значений следующих полей.</p>
          <ul>
            <li>wsb_seed</li>
            <li>wsb_storeid</li>
            <li>wsb_order_num</li>
            <li>wsb_test</li>
            <li>wsb_currency_id</li>
            <li>wsb_total</li>
            <li>wsb_terminal</li>
            <li>SecretKey</li>
          </ul>
          <p>Поля должны быть объединены в одну строку, порядок объединения не должен быть нарушен. Далее, в зависимости от указанной версии протокола (<b>wsb_version</b>), считается MD5 (если версия не указана), либо SHA1 (для версии 2) объединенной строки.</p>
          <h3>Особенности работы с картами рассрочки "Приорбанк" ОАО</h3>
          <p>При отправке запроса будет начат сценарий платежа, при котором для оплаты разрешено ввести только карту рассрочки "Приорбанк" ОАО. При работе только с одним типом рассрочки поле <b>wsb_terminal</b> можно не передавать.</p>
          <h3>Особенности работы с картами рассрочки ЗАО "МТБанк" (Халва)</h3>
          <p>При отправке запроса будет начат сценарий платежа, при котором для оплаты разрешено ввести только карту рассрочки ЗАО "МТБанк" (Халва либо ИКС карта, к которой привязана карта рассрочки Халва). При работе только с одним типом рассрочки поле <b>wsb_terminal</b> можно не передавать. Система WEBPAY определит вводимую плательщиком карту и на ее основании оплата будет произведена по соответствующему терминалу.</p>
          <p>Если у клиента подключена возможность на прием оплат по картам рассрочки ЗАО "МТБанк" (Халва), то отобразиться страница с блоком информации для оплаты.</p>
          <img src="img/integrationRU/paymentPageHalva.png" alt="Платежная страница для оплаты по карте рассрочки Халва">
          <p>При вводе плательщиком банковской карты, соответствующей продукту ЗАО "МТБанк" ИКС карта, после нажатия кнопки "Оплатить", плательщику будет предложен выбор способа оплаты из привязанных карт к данному продукту.</p>
          <img src="img/integrationRU/paymentPageXCard.png" alt="Selecting the payment method for the X-card">
        </div><!-- end left side content prior_halva -->
        <div class="doc-right"> <!-- right side content prior_halva -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="html code-active" lang="html" >
&#60;form action="https://securesandbox.webpay.by/" method="post"&#62;
  &#60;input type="hidden" name="*scart"&#62;
  &#60;input type="hidden" name="wsb_version" value="2"&#62;
  &#60;input type="hidden" name="wsb_language_id" value="Russian"&#62;
  &#60;input type="hidden" name="wsb_storeid" value="11111111"&#62;
  &#60;input type="hidden" name="wsb_store" value="Название Вашего магазина"&#62;
  &#60;input type="hidden" name="wsb_order_num" value="ORDER-12345678"&#62;
  &#60;input type="hidden" name="wsb_test" value="0"&#62;
  &#60;input type="hidden" name="wsb_currency_id" value="BYN"&#62;
  &#60;input type="hidden" name="wsb_seed" value="1242649174"&#62;
  &#60;input type="hidden" name="wsb_return_url"
  value="http://yoursiteurl.com/success.php"&#62;
  &#60;input type="hidden" name="wsb_cancel_return_url"
  value="http://yoursiteurl.com/cancel.php"&#62;
  &#60;input type="hidden" name="wsb_notify_url"
  value="http://yoursiteurl.com/notify.php"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[0]" value="Товар 1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[0]" value="2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[0]" value="10"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[1]" value="Товар 2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[1]" value="1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[1]" value="0.5"&#62;
  &#60;input type="hidden" name="wsb_total" value="21.90"&#62;
  &#60;input type="hidden" name="wsb_signature"
  value="2e45588afe41be5372af7a250628dd03846d8e30"&#62;
  &#60;input type="hidden" name="wsb_shipping_name" value="Стоимость доставки"&#62;
  &#60;input type="hidden" name="wsb_shipping_price" value="0.98"&#62;
  &#60;input type="hidden" name="wsb_discount_name" value="Скидка на товар"&#62;
  &#60;input type="hidden" name="wsb_discount_price" value="0.58"&#62;
  &#60;input type="hidden" name="wsb_terminal" value="80000003"&#62;
  &#60;input type="submit" value="Купить"&#62;
&#60;/form&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content prior_halva -->
      </div><!-- /doc wrap -->
    </div><!-- /right side prior_halva wrap -->

    <div class="right-side"><!-- right side halva+ wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content halva+ -->
          <h2>Совершение платежей по карте Халва Плюс</h2>
          <p>Для совершения платежей по карте Халва Плюс достаточно сформировать стандартный авторизационный запрос согласно разделу <a href="#integration">Разработка платежного модуля</a>. При вводе на платежной странице карты Халва Плюс и имеющемся разрешении на оплату накопленными бонусными баллами, покупатель увидит отдельную страницу с выбором типа платежа. На данной странице, он сможет выбрать каким образом произвести оплату заказа.</p>
          <img src="img/integrationRU/paymentPageHalva+.png" alt="Выбор способа оплаты при оплате картой Халва Плюс">
          <p>Если разрешение на оплату накопленными бонусными баллами отсутствует, то страница с выбором способа платежа показана не будет и автоматически произойдет обычная оплата в BYN с карты Халва Плюс.</p>
        </div><!-- end left side content halva+ -->
      </div><!-- /doc wrap -->
    </div><!-- /right side halva+ wrap -->

    <!--  End Credit Cards (Prior, Halva, Halva+) -->

    <!-- Promo Codes Visa, Mastercard -->

    <div class="right-side"><!-- right side promoCodes wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content promoCodes -->
          <h2 id="promoCodes" class="doc-title">Использование промокода для скидочной программы VISA и MASTERCARD</h2>
          <h3>Описание скидочной программы VISA/MASTERCARD</h3>
          <p>Механизм предназначен для совершения платежей по заказам поставщика услуг, который участвует в скидочной программе платежной системы VISA/MASTERCARD. Данная программа предусматривает предоставление скидки по заказу, если оплата будет совершена с использованием любой карты VISA/MASTERCARD. Плательщик на стороне поставщика услуг выражает свое желание об оплате заказа с использованием одной из премиальных карт. Компания WEBPAY контролирует, чтобы оплата была произведена указанным типом карты.</p>
          <p>Описание механизма работы с промокодом VISA и MASTERCARD:</p>
          <ol>
            <li>Плательщик на стороне поставщика услуг выражает свое желание об оплате заказа с использованием карты платежной системы VISA либо MASTERCARD. Компания WEBPAY контролирует, чтобы оплата была произведена указанной платежной системой.</li>
            <li>В соответствии с выбранным типом платежной системы поставщик услуг определяет значение скидки и промокода. Сумма скидки передается в поле <b>wsb_discount_price</b> (перейти к разделу <a href="#cartFields">Поля для формирования корзины товаров/услуг</a>) и должна учитываться при расчете общей суммы заказа. Так же можно передать текст для описания скидки в поле <b>wsb_discount_name</b></li>
            <li>Если значение промокода передано и поставщик услуг участвует в скидочной программе VISA или  MASTERCARD, то система WEBPAY проверяет карту плательщика на соответствие промокоду. Если найдено расхождение, то происходит запрет на проведение платежа.</li>
          </ol>
          <p>Значения возможных промокодов для карт VISA/MASTERCARD, которые передаются в поле <b>wsb_discount_promo_code</b>, указаны в таблице ниже:</p>
          <table>
            <thead>
              <tr>
                <td>Тип карты</td>
                <td>Значение промокода</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>VISA/MASTERCARD Gold</td>
                <td>gold</td>
              </tr>
              <tr>
                <td>VISA/MASTERCARD Platinum</td>
                <td>platinum</td>
              </tr>
              <tr>
                <td>VISA/MASTERCARD Infinite</td>
                <td>infinite</td>
              </tr>
              <tr>
                <td>VISA</td>
                <td>visa</td>
              </tr>
              <tr>
                <td>MASTERCARD (не входят карты MAESTRO и БЕЛКАРТ-MAESTRO)</td>
                <td>mastercard</td>
              </tr>
            </tbody>
          </table>
          <p>Например, если выбрана оплата по премиальной карте VISA/MASTERCARD Gold, авторизационный запрос будет выглядеть следующим образом.</p>
          <p>Регистр промокода в данном случае значения не имеет. Если разрешено совершить платеж без выбора типа карты, то поле <b>wsb_discount_promo_code</b> можно не передавать или оставить пустым.
          </p>
        </div><!-- end left side content promoCodes -->
        <div class="doc-right"> <!-- right side content -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="html code-active" lang="html" >
&#60;form action="https://securesandbox.webpay.by/" method="post"&#62;
  &#60;input type="hidden" name="*scart"&#62;
  &#60;input type="hidden" name="wsb_version" value="2"&#62;
  &#60;input type="hidden" name="wsb_language_id" value="Russian"&#62;
  &#60;input type="hidden" name="wsb_storeid" value="11111111"&#62;
  &#60;input type="hidden" name="wsb_store" value="Название Вашего магазина"&#62;
  &#60;input type="hidden" name="wsb_order_num" value="ORDER-12345678"&#62;
  &#60;input type="hidden" name="wsb_test" value="1"&#62;
  &#60;input type="hidden" name="wsb_currency_id" value="BYN"&#62;
  &#60;input type="hidden" name="wsb_seed" value="1242649174"&#62;
  &#60;input type="hidden" name="wsb_customer_name" value="Иванов Петр Петрович"&#62;
  &#60;input type="hidden" name="wsb_customer_address"
  value="Минск пр. Независимости д.1 кв.2"&#62;
  &#60;input type="hidden" name="wsb_service_date"
  value="Доставка до 1 января 2016 года"&#62;
  &#60;input type="hidden" name="wsb_return_url"
  value="http://yoursiteurl.com/success.php"&#62;
  &#60;input type="hidden" name="wsb_cancel_return_url"
  value="http://yoursiteurl.com/cancel.php"&#62;
  &#60;input type="hidden" name="wsb_notify_url"
  value="http://yoursiteurl.com/notify.php"&#62;
  &#60;input type="hidden" name="wsb_email" value="ivanov@test.by"&#62;
  &#60;input type="hidden" name="wsb_phone" value="375291234567"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[0]" value="Товар 1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[0]" value="2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[0]" value="10"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[1]" value="Товар 2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[1]" value="1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[1]" value="0.5"&#62;
  &#60;input type="hidden" name="wsb_total" value="21.90"&#62;
  &#60;input type="hidden" name="wsb_signature"
  value="338d1647833079f9353907ad266ec0bb5264c0d9"&#62;
  &#60;input type="hidden" name="wsb_tax" value="1050"&#62;
  &#60;input type="hidden" name="wsb_shipping_name" value="Стоимость доставки"&#62;
  &#60;input type="hidden" name="wsb_shipping_price" value="0.98"&#62;
  &#60;input type="hidden" name="wsb_discount_name" value="Скидка на товар"&#62;
  &#60;input type="hidden" name="wsb_discount_price" value="0.58"&#62;
  &#60;input type="hidden" name="wsb_order_contract"
  value="Договор №152/12-1 от 12.01.19"&#62;
  &#60;input type="hidden" name="wsb_discount_promo_code" value="gold"&#62;
  &#60;input type="submit" value="Купить"&#62;
&#60;/form&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content -->
      </div><!-- /doc wrap -->
    </div><!-- /right side promoCodes wrap -->

    <div class="right-side"><!-- right side testPromoCodes wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content testPromoCodes -->
          <h3>Тестирование скидочной программы VISA/MASTERCARD</h3>
          <p>Процесс выполнения тестовых запросов на оплату аналогичен описанному в разделе <a href="#integration">Разработка платежного модуля</a> за некоторым исключением:</p>
          <ol>
            <li>Необходимо обратиться в техническую поддержку WEBPAY <a href="mailto:support@webpay.by">support@webpay.by</a> для включения для Вашей учетной записи возможности работы по скидочной программе VISA/MASTERCARD.</li>
            <li>Для того, чтобы в тестовой среде был доступен ввод разных номеров карт, необходимо параметр <b>wsb_test</b> передать со значением <b>0</b>.</li>
            <li>При тестировании можно указывать любые 16-значные номера карт VISA или MASTERCARD. Создать набор таких карт можно с помощью ресурса <a href="http://www.getcreditcardnumbers.com" target="_blank">http://www.getcreditcardnumbers.com</a>. При генерации номеров премиальных карт используйте следующие первые 6 цифр карты (BIN карты):</li>
          </ol>
          <table>
            <thead>
              <tr>
                <td>Тип карты</td>
                <td>BIN карты</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>VISA Gold</td>
                <td>480066</td>
              </tr>
              <tr>
                <td>VISA Platinum</td>
                <td>417685</td>
              </tr>
              <tr>
                <td>VISA Infinite</td>
                <td>455674</td>
              </tr>
              <tr>
                <td>MASTERCARD Gold</td>
                <td>510116</td>
              </tr>
              <tr>
                <td>MASTERCARD Platinum</td>
                <td>511278</td>
              </tr>
            </tbody>
          </table>
        </div><!-- end left side content testPromoCodes -->
      </div><!-- /doc wrap -->
    </div><!-- /right side testPromoCodes wrap -->

    <!-- End Promo Codes Visa, Mastercard -->

    <!-- ERIP -->

    <div class="right-side"><!-- right side paymentsExecution wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content paymentsExecution -->
          <h2 id="ERIP" class="doc-title">Сценарий выполнения платежей через систему АИС "Расчет" (ЕРИП)</h2>
          <p>Для совершения платежей с возможностью оплаты через систему АИС "Расчет" (ЕРИП) необходимо сформировать стандартный авторизационный (POST) запрос (<a href="#integration">Разработка платежного модуля</a>). Для тестирования необходимо указать адрес <a href="https://securesandbox.webpay.by" target="_blank">https://securesandbox.webpay.by</a>, для совершения реальных платежей − <a href="https://payment.webpay.by" target="_blank">https://payment.webpay.by</a>.</p>
          <p>При необходимости создания счета, с возможностью его оплаты до определенной даты, в авторизационном запросе необходимо передать поле <b>wsb_due_date</b>. Значение данного поля должно содержать метку времени в Unix Timestamp, до которой счет будет доступен для оплаты.</p>
          <p>После выполнения запроса отобразится страница с реквизитами платежа.</p>
          <p>Если клиент подключен на прием оплат по заказам только через систему АИС "Расчет" (ЕРИП), отобразиться страница с блоком информации для оплаты.</p>
          <img src="img/integrationRU/paymentPageERIP.png" alt="Платежная страница при ЕРИП">
          <p>Если у клиента кроме способа оплаты через ЕРИП, присутствует возможность платы заказа банковской карточкой, то на платежной странице отобразится дополнительное поле для выбора способа оплаты.</p>
          <img src="img/integrationRU/paymentPageIA+ERIP.png" alt="Платежная страница при ЕРИП и интернет-эквайринге">
          <p>У плательщика есть возможность сохранить информацию по заказу для совершения платежа позже. Для этого ему необходимо нажать кнопку <b>"Оплатить позже"</b>. В результате, на указанный электронный ящик поступит информация о заказе.</p>
          <img src="img/integrationRU/laterPayment.png" alt="Отложенная оплата заказа">
          <p>Примеры писем, которые будут отправлены плательщику с информацией о заказе.</p>
          <p>Если у клиента настроен прием только платежей через систему АИС "Расчет" (ЕРИП).</p>
          <img src="img/integrationRU/laterInvoiceERIP.png" alt="Уведомление при отложенной оплате ЕРИП">
          <p>Если у клиента настроена оплата и банковской карточкой онлайн, и через систему АИС "Расчет" (ЕРИП).</p>
          <img src="img/integrationRU/laterInvoiceIA+ERIP.png" alt="Уведомление при отложенной оплате ЕРИП и интернет-эквайринг">
        </div>

        <div class="doc-right"> <!-- right side content paymentsExecution -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="html code-active" lang="html" >
&#60;form action="https://securesandbox.webpay.by/" method="post"&#62;
  &#60;input type="hidden" name="*scart"&#62;
  &#60;input type="hidden" name="wsb_version" value="2"&#62;
  &#60;input type="hidden" name="wsb_language_id" value="Russian"&#62;
  &#60;input type="hidden" name="wsb_storeid" value="11111111"&#62;
  &#60;input type="hidden" name="wsb_store" value="Название Вашего магазина"&#62;
  &#60;input type="hidden" name="wsb_order_num" value="ORDER-12345678"&#62;
  &#60;input type="hidden" name="wsb_test" value="1"&#62;
  &#60;input type="hidden" name="wsb_currency_id" value="BYN"&#62;
  &#60;input type="hidden" name="wsb_seed" value="1242649174"&#62;
  &#60;input type="hidden" name="wsb_return_url"
  value="http://yoursiteurl.com/success.php"&#62;
  &#60;input type="hidden" name="wsb_cancel_return_url"
  value="http://yoursiteurl.com/cancel.php"&#62;
  &#60;input type="hidden" name="wsb_notify_url"
  value="http://yoursiteurl.com/notify.php"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[0]" value="Товар 1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[0]" value="2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[0]" value="10"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_name[1]" value="Товар 2"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_quantity[1]" value="1"&#62;
  &#60;input type="hidden" name="wsb_invoice_item_price[1]" value="0.5"&#62;
  &#60;input type="hidden" name="wsb_total" value="21.90"&#62;
  &#60;input type="hidden" name="wsb_signature"
  value="338d1647833079f9353907ad266ec0bb5264c0d9"&#62;
  &#60;input type="hidden" name="wsb_shipping_name" value="Стоимость доставки"&#62;
  &#60;input type="hidden" name="wsb_shipping_price" value="0.98"&#62;
  &#60;input type="hidden" name="wsb_discount_name" value="Скидка на товар"&#62;
  &#60;input type="hidden" name="wsb_discount_price" value="0.58"&#62;
  &#60;input type="hidden" name="wsb_due_date" value="1586684975"&#62;
  &#60;input type="submit" value="Купить"&#62;
&#60;/form&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content paymentsExecution -->

      </div><!-- /doc wrap -->
    </div><!-- /right side paymentsExecution wrap -->

    <div class="right-side"><!-- right side paymentNotification wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content paymentNotification -->
          <h2>Извещение об оплате</h2>
          <p>При оплате платежей через систему АИС "Расчет" (ЕРИП) система WEBPAY извещает Интернет-ресурс о проведенной операции по адресу <b>wsb_notify_url</b> (если он указан в поле формы, либо задан в настройках биллинг-аккаунта). Передаваемые поля аналогичны тем, которые описаны в разделе <a href="#POSTNotify">Стандартный POST-запрос, отправляемый с АПК WEBPAY на wsb_notify_url</a> за некоторым исключением. Так, поле <b>payment_method</b> будет содержать значение <b>erip</b>. Интернет-ресурс, в случае оповещения, должен ответить кодом <b>200 ("HTTP/1.0 200 OK")</b>. Через 30 дней, если Интернет-ресурс так и не смог принять уведомление, отсылка запросов прекращается.</p>
        </div><!-- end left side content paymentNotification -->
      </div><!-- /doc wrap -->
    </div><!-- /right side paymentNotification wrap -->

    <div class="right-side"><!-- right side createOrderFTP wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content createOrderFTP -->
          <h2>Выставление счета в системе АИС "Расчет" (ЕРИП) через FTP</h2>
          <p><b>Формат загружаемого файла на FTP-сервер (файл *.bill):</b></p>
          <ol>
            <li>Id биллинг-аккаунта;</li>
            <li>Номер счета;</li>
            <li>Сумма;</li>
            <li>Наименование товара/услуги;</li>
            <li>Срок действия счета (dd.MM.yyyy HH:mm:ss);</li>
            <li>Пеня – необязательное поле;</li>
            <li>ФИО – необязательное;</li>
          </ol>
          <p><b>Название файла:</b> id биллинг-аккаунта_дата+время.bill.</p>
          <p><b>Пример:</b> 1234567_250817125700.bill</p>
          <p><b>Пример загружаемого файла:</b></p>
          <p>123456789;789-Test;123.56;Товар 1;01.12.2017 16:51:29;1.86;Иванов Иван</p>
          <p>123456789;789-Test;123.56;Товар 1;01.12.2017 16:51:29;; - пример файла, когда есть незаполненные необязательные поля.</p>
          <p>После выставления счета на электронный адрес Магазина приходит уведомление о выставлении счета:</p>
          <ol>
            <li>Успешное выставление счета
              <img src="img/integrationRU/successfulFTP.png" alt="Уведомление об успешном выставлении счета">
            </li>
            <li>Ошибочное
              <img src="img/integrationRU/errorFTP.png" alt="Уведомление об ошибочном выставлении счета">
              <img src="img/integrationRU/errorFTPnotUniq.png" alt="Уведомление о не уникальном файле">
            </li>
          </ol>
          <h3>Настройка FTP</h3>
          <p>Параметры нашего FTP:</p>
          <p><b>User name:</b> merchant</p>
          <p><b>Host name (Port)</b> для тестовой среды: erip-ftp-test.webpay.by (порт 2100)</p>
          <p><b>Host name (Port)</b> для реальной среды: erip-ftp.webpay.by (порт 21)</p>
          <p><b>Password</b> (одинаковый вне зависимости от используемой среды): YJmsJs4TpveX</p>
          <p>Пример заполнения параметров в Total Commander:</p>
          <img src="img/integrationRU/FTPSettings.png" alt="Пример настроек FTP">
        </div><!-- end left side content createOrderFTP -->
      </div><!-- /doc wrap -->
    </div><!-- /right side createOrderFTP wrap -->

    <!-- End ERIP -->

    <!-- End Integration Module-->

    <!-- Without Integration Module-->

    <!-- From Personal Cabinet -->

    <div class="right-side"><!-- right side newInvoiceCabinet wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content newInvoiceCabinet -->
          <h2 id="newInvoiceCabinet" class="doc-title">Создание счета из личного кабинета WEBPAY</h2>
          <h3>Формирование нового счета для оплаты</h3>
          <p>Для создания нового счета необходимо перейти в раздел меню <b>"Счета"</b> и нажать кнопку <b>"Новый счет"</b>.</p>
          <p>Также в меню <b>"Счета"</b> отображаются все ваши счета и присутствует окно поиска по различным критериям: статусу, дате создания, имени счета, имени счета мерчанта, ID счета и ID аккаунта.</p>
          <p>После нажатия на кнопку <b>"Новый счет"</b> перед Вами отобразится форма со специальными полями, которые необходимо заполнить. Поле <b>"Счет для покупателя"</b> является обязательным для заполнения. В поле <b>"Счет для покупателя"</b> можно создавать нового клиента, выбрав "НОВЫЙ ПОКУПАТЕЛЬ" либо выбрать ранее созданного покупателя.</p>
          <p>Далее заполняется поле <b>"Имя"</b> – вводится имя клиента, для которого будет выставлен счет. Максимальная длина поля составляет 128 символов, минимальная – 1 символ. Формат ввода символов любой. Данное поле является обязательным для заполнения.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Обращаем Ваше внимание, что поля, отмеченные *, являются обязательными для заполнения. Поля, не отмеченные *, заполнять не обязательно.
            </p>
          </div><!-- /Attention -->
          <img src="img/noInegrationRU/newInvoice.png" alt="Формирование нового счета">
          <p>Поле <b>"Фамилия"</b> также является обязательным для заполнения. Вводится фамилия клиента, для которого будет выставлен счет. Максимальная длина поля 128 символов, минимальная 1 символ. Формат ввода символов любой.</p>
          <p>Электронный адрес, на который будет выслан новый счет для оплаты, вводится в поле <b>"Email"</b>. Поле является обязательным для заполнения. Максимальная длина поля 128 символов, минимальная 4 символа. При вводе можно использовать: латинские буквы, цифры, символ "-" и "_" и только маленькие символы.</p>
          <p>Поле <b>"Имя счета"</b> может быть сгенерировано автоматически, после успешного формирования счета. Максимальная длина поля 32 символа, минимальная 1 символ. Формат ввода символов любой.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Обращаем Ваше внимание, что для оплаты заказа в АИС "Расчет" (ЕРИП) будет использоваться номер, введенный в поле "Имя счета". Значение данного поля НЕ должно начинаться с "0" (нуля). Создание нескольких заказов с одним и тем же номером ЗАПРЕЩЕНО.
            </p>
          </div><!-- /Attention -->
          <p>Поле <b>"Валюта счета"</b> является обязательным для заполнения. Обозначает валюту, в которой будет произведен расчет. На данный момент поддерживаются четыре валюты для оплаты:</p>
          <ul>
            <li>Белорусские рубли (BYN);</li>
            <li>Евро (EUR);</li>
            <li>Доллары США (USD);</li>
            <li>Российские рубли (RUB).</li>
          </ul>
          <p>Далее заполняется обязательное поле <b>"Язык"</b>. На этом этапе осуществляется выбор языка формы оплаты выставляемого счета. На данный момент поддерживаются два языка формы оплаты:</p>
          <ul>
            <li>Русский (Russian);</li>
            <li>Английский (English).</li>
          </ul>
          <img src="img/noInegrationRU/createInvoiсe.png" alt="Создание нового счета">
          <p>Дата, до которой необходимо оплатить счет, выбирается в поле <b>"Оплатить до"</b>. Это поле является обязательным для заполнения. Для выбора даты нужно нажать на значок часов, который расположен в левой части поля. В открывшемся календаре Вы можете выбрать день, месяц и год. Дату и время оплаты также можно ввести с клавиатуры в полях <b>"Выбрать дату"</b> и <b>"Выбрать время"</b>. Здесь используются форматы "гггг-мм-дд" и "чч:мм:cc" соответственно. Если в процессе заполнения формы выставляемого счета Вы передумали с датой, до которой необходимо оплатить счет, Вы можете нажать повторно на значок часов и изменить дату оплаты счета.</p>
          <p>Далее Вам необходимо добавить в счет информацию по товарам/услугам, за которые будет производиться оплата. Наименование товара/услуги заполняется в поле <b>"Имя продукта"</b>. Поле является обязательным для заполнения. Максимальная длина поля составляет 128 символов. Формат ввода любой.</p>
          <p>Поле <b>"Код продукта"</b> заполнять не обязательно. Сюда вводится идентификатор продукта в магазине. Максимальная длина поля составляет 32 символа, минимальная – 1 символ. При вводе можно использовать латинские буквы, цифры, символы "-" и "_".</p>
          <img src="img/noInegrationRU/invoiceDate.png" alt="Выбор времени для оплаты счета">
          <p>Далее заполняется поле <b>"Цена"</b>. Полная цена продукта без учета стоимости доставки и скидки. Максимальная длина поля не ограничена. Поле является обязательным для заполнения.</p>
          <p>Количество товаров/услуг прописывается в поле <b>"Количество"</b>. Максимальная длина поля не ограничена. Поле является обязательным для заполнения.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                В поле "Количество" можно вводить только целое число.
            </p>
          </div><!-- /Attention -->
          <p>Таким же образом Вы можете добавить в счет несколько товаров/услуг, нажав на кнопку <b>"Добавить поле"</b>. Также Вы можете удалить товар/услугу со счета, нажав на красный значок "-" справа от позиции товара.</p>
          <p>Далее идут поля, которые не обязательны для заполнения.</p>
          <p>Стоимость доставки товара/услуги прописывается в поле <b>"Стоимость доставки"</b>. Максимальная длина поля не ограничена.</p>
          <p>Скидка на товар/услугу вводится в поле <b>"Скидка"</b>. Максимальная длина поля не ограничена.</p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Обращаем Ваше внимание, что скидка вводится без знака "-" (минус). Система автоматически вычтет скидку из цены заказа. Конечная стоимость товара/услуги с учетом скидки и доставки не должна быть больше лимита, который был установлен в договоре Интернет-эквайринга.
            </p>
          </div><!-- /Attention -->
          <p>Если вместе с выставляемым счетом Вы желаете передать плательщику информационное сообщение, то вписать его Вы можете в поле <b>"Примечание"</b>. Максимальная длина поля не ограничена.</p>
          <img src="img/noInegrationRU/fullInvoice.png" alt="Заполненный счет на оплату">
          <p>После нажатия кнопки <b>"Сохранить"</b> отобразится только что созданный вами счет первым в списке.</p>
          <p>Если нажать на карточку счета, она раскроется, и Вы сможете увидеть детализацию по выставленному счету. В случае необходимости внести изменения в уже сформированный счет, Вы можете использовать кнопку <b>"Изменить счет"</b>.</p>
          <p>При нажатии на кнопку <b>"Копировать URL счета"</b> ссылка на счет будет автоматически скопирована в буфер обмена. URL адрес позволяет открыть счет в новой вкладке браузера и произвести оплату. Данную ссылку Вы можете использовать для отправки плательщику любым удобным способом (SMS, e-mail, мессенджеры).</p>
          <p>Кнопка <b>"QR код"</b> позволяет открыть код для перехода на счет. Код содержит под собой тот же URL адрес счета который может быть распознан любым мобильным устройством с возможностью чтения QR кодов. Эта функция может, например, применяться при продаже товаров в обычных магазинах.</p>
          <img src="img/noInegrationRU/savedInvoice.png" alt="Сохраненный счет на оплату">
          <p>Подробную информацию о клиенте, которому был выставлен счет, и товарам/услугам счета вы можете просмотреть, нажав на кнопку <b>"Посмотреть счет"</b>. Здесь же находится кнопка <b>"Оплатить Счет"</b>.</p>
          <img src="img/noInegrationRU/viewInvoice.png" alt="Просмотр выставленного счета">
          <p>После того как счет сформирован на электронный адрес клиента будет выслано письмо-уведомление с информацией о новом счете, и просьбой следовать по ссылке для оплаты данного счета. Ниже представлен образец письма-уведомления для оплаты банковской картой онлайн.</p>
          <img src="img/noInegrationRU/mailNotifyNewInvoice.png" alt="Образец письма-уведомления по новому счету">
          <p>Образец письма-уведомления для оплаты через АИС "Расчет" (ЕРИП).</p>
          <img src="img/noInegrationRU/mailNotifyNewInvoiceERIP.png" alt="Образец письма-уведомления по новому счету ЕРИП">
          <h3>Оплата заказа</h3>
          <p>В том случае, если клиент проследует по ссылке - он попадет на форму оплаты.</p>
          <img src="img/noInegrationRU/orderInfo.png" alt="Информация о заказе">
          <p>После нажатия кнопки <b>"Оплатить счет"</b> покупатель перейдет на страницу оплаты системы WEBPAY:</p>
          <ul>
            <li>
              <p>если у Вас подключен интернет-эквайринг;</p>
              <img src="img/noInegrationRU/paymentPageIA.png" alt="Платежная страница при интернет-эквайринге">
            </li>
            <li>
              <p>если у Вас подключен прием оплаты через АИС "Расчет" (ЕРИП);</p>
              <img src="img/noInegrationRU/paymentPageERIP.png" alt="Платежная страница при ЕРИП">
            </li>
            <li>
              <p>если у Вас на одном биллинг-аккаунте подключена возможность оплаты банковской картой онлайн и оплаты через АИС "Расчет" (ЕРИП).</p>
              <img src="img/noInegrationRU/paymentPageIA+ERIP.png" alt="Платежная страница при интернет-эквайринге и ЕРИП">
            </li>
          </ul>
        </div><!-- end left side content newInvoiceCabinet -->
      </div><!-- /doc wrap -->
    </div><!-- /right side newInvoiceCabinet wrap -->

    <div class="right-side"><!-- right side newInvoiceCabinetCredit wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content newInvoiceCabinetCredit -->
          <!-- left side content newInvoiceCabinetCredit -->
          <h2>Создание счета по картам рассрочки</h2>
          <p>Реализована возможность выставления счетов через личный кабинет по картам рассрочки Халва (ЗАО "МТБанк") и картам рассрочки "Приорбанк" ОАО. Если плательщик сообщил интернет-магазину, что оплата будет проходить по карте рассрочки, то рекомендуется при оплате выбрать требуемый для текущего заказа срок рассрочки. В случае, если у интернет-магазина один терминал рассрочки и при выставлении счета не выбран способ оплаты картой рассрочки, а плательщик введет карту Халва, то оплата пройдет по терминалу Халвы. В случае, если у интернет-магазина два и более терминалов рассрочки и при выставлении счета интернет-магазин не выберет нужный терминал, а плательщик введет карту рассрочки Халва, то платеж будет отклонен.</p>
          <img src="img/noInegrationRU/newInvoiceInstalment.png" alt="Создание счета с использованием рассрочки">
          <p>При просмотре выставленного счета также будет отображаться информация по терминалу, на который выставлен счет.</p>
          <img src="img/noInegrationRU/successOrder.png" alt="Информация по рассрочке после оплаты">
        </div><!-- end left side content newInvoiceCabinetCredit -->
      </div><!-- /doc wrap -->
    </div><!-- /right side newInvoiceCabinetCredit wrap -->

    <!-- End From Personal Cabinet -->

    <!-- End Without Integration Module-->

    <!-- Merchant PCI DSS -->

    <div class="right-side"><!-- right side pcidssMainInfo wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content pcidssMainInfo -->
          <h2 id="merchantPCIDSS" class="doc-title">Merchant PCI DSS</h2>
          <p>Для осуществления интеграции с системой WEBPAY мерчантов PCI DSS, которые работают с данными карт на страницах веб-сайта или непосредственно в приложении и хотят использовать интеграцию Host2Host, следуйте, пожалуйста, инструкциям ниже. Формирование стандартного POST-запроса (раздел <a href="#integration">Разработка платежного модуля</a>) + поле <b>wsb_encrypted_data</b>.</p>
          <table>
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Обязательное поле</td>
                <td>Описание</td>
            </tr>
            </thead>
            <tbody>
              <tr>
                <td>wsb_encrypted_data</td>
                <td>Да</td>
                <td>Данное поле содержит зашифрованный JSON формата {"cc_pan":"", "cc_exp":"", "cc_cvv":"", "cc_name":""}. Шифруется с помощью публичного ключа из личного кабинета.</td>
              </tr>
            </tbody>
          </table>
          <p>* При формировании поля <b>wsb_signature</b> (механизм формирования подписи указан в разделе <a href="#orderSignature">Электронная подпись заказа</a>) поле <b>wsb_encrypted_data</b> также участвует, при склеивании параметров и ставится в конец перед секретным ключом из настроек биллинга. Далее происходит стандартный сценарий оплаты. Отличие заключается только в формате ответа. Ответ будет дан в формате JSON.</p>
          <h3>Поля ответа</h3>
          <table>
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>time</td>
                <td>Время выполнения запроса</td>
              </tr>
              <tr>
                <td>orderNumber</td>
                <td>Номер заказа</td>
              </tr>
              <tr>
                <td>invoiceNumber</td>
                <td>Номер счета</td>
              </tr>
              <tr>
                <td>transaction</td>
                <td>Id транзакции</td>
              </tr>
              <tr>
                <td>authorizationCode</td>
                <td>Авторизационный код</td>
              </tr>
              <tr>
                <td>Rrn</td>
                <td>Уникальный идентификатор банковской транзакции</td>
              </tr>
              <tr>
                <td>trimPan</td>
                <td>Номер карты в формате 123456xxxxxx1234</td>
              </tr>
              <tr>
                <td>payee</td>
                <td>Получатель платежа</td>
              </tr>
              <tr>
                <td>amount</td>
                <td>Сумма платежа</td>
              </tr>
              <tr>
                <td>currency</td>
                <td>Валюта платежа</td>
              </tr>
              <tr>
                <td>acsUrl</td>
                <td>Адрес перехода для прохождения 3D-Secure</td>
              </tr>
              <tr>
                <td>PaReq</td>
                <td>Параметр передаваемый на acs страницу</td>
              </tr>
              <tr>
                <td>TermUrl</td>
                <td>Адрес для получения ответа от acs страницы</td>
              </tr>
              <tr>
                <td>MD</td>
                <td>Токен, для восстановления сессии после acs-страницы</td>
              </tr>
              <tr>
                <td>tokenName</td>
                <td>Название токена, для восстановления платежной сессии</td>
              </tr>
              <tr>
                <td>token</td>
                <td>Значение токена, для восстановления платежной сессии</td>
              </tr>
              <tr>
                <td>availableOption</td>
                <td>Параметр содержит возможные значения для поля <b>paymentType</b>. Список значений зависит от типа карты и настроек мерчанта. Возможные значения:<br><b>IpsPayment</b> - терминал ips (дефолтный либо, при включенной маршрутизации, смаршрутизированный терминал)<br><b>halva</b> — терминал халвы<br><b>standard</b> — терминал халвы+ (оплата рублями)<br><b>bonus</b> — терминал халвы+ (оплата бонусами)</td>
              </tr>
              <tr>
                <td>paymentType</td>
                <td>Используется при необходимости выбрать вариант оплаты для карт. Приходит пустое значение, его необходимо заполнить. Возможные значения для заполнения берутся из поля <b>availableOption</b>.</td>
              </tr>
              <tr>
                <td>responseCode</td>
                <td>При возникновении ошибки содержит код ошибки</td>
              </tr>
              <tr>
                <td>responseText</td>
                <td>Содержит текст ошибки</td>
              </tr>
            </tbody>
          </table>
        </div><!-- end left side content pcidssMainInfo -->
      </div><!-- /doc wrap -->
    </div><!-- /right side pcidssMainInfo wrap -->

    <div class="right-side"><!-- right side pcidssHalva+ wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content pcidssHalva+ -->
          <h3>При выборе варианта оплаты для карточки Халва+</h3>
          <p>WEBPAY в ответе возвращает</p>
        </div><!-- end left side content pcidssHalva+ -->
        <div class="doc-right"> <!-- right side content pcidssHalva+ -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
{"token":"effc84c25f202e28dd96b3197d682bfe611dd2e8e67233f46114094940a05fcf=7344
4a4f5f39324b764b767476517876622d647372676b49744444534c4d5a30345879566e334b48526
e592c",
"tokenName":"wt",
"availableOption":"ipsPayment,halva",
"paymentType":""}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content pcidssHalva+  -->
      </div><!-- /doc wrap -->
    </div><!-- /right side pcidssHalva+ wrap -->

    <div class="right-side"><!-- right side postPcidssHalva+ wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content postPcidssHalva+ -->
          <p>Мерчант при получении такого ответа должен запросить у клиента вариант оплаты и отправить нам POST-запрос со следующими полями</p>
        </div><!-- end left side content postPcidssHalva+ -->
        <div class="doc-right"> <!-- right side content postPcidssHalva+ -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="php code-active" lang="php" >
$params['wt'] = "effc84c25f202e28dd96b3197d682bfe611dd2e8e67233f46114094940a05
fcf=73444a4f5f39324b764b767476517876622d647372676b49744444534c4d5a30345879566e
334b48526e592c";
$params['payHalvaPlus'] = 1;
$params['paymentType'] = 'standard'; /* может содержать значения из доступных,
полученных в параметре availableOption */
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content postPcidssHalva+  -->
      </div><!-- /doc wrap -->
    </div><!-- /right side postPcidssHalva+ wrap -->

    <div class="right-side"><!-- right side pcidss3DS wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content pcidss3DS -->
          <h3>При сценарии с 3DS</h3>
          <p>WEBPAY в ответе возвращает заполненные поля acsUrl, PaReq, TermUrl, MD</p>
        </div><!-- end left side content pcidss3DS -->
        <div class="doc-right"> <!-- right side content pcidss3DS -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
{"token":"effc84c25f202e28dd96b3197d682bfe611dd2e8e67233f46114094940a05fcf=7344
4a4f5f39324b764b767476517876622d647372676b49744444534c4d5a30345879566e334b48526
e592c",
"tokenName": "wt",
"acsUrl": "https://aacsw.3ds.verifiedbyvisa.com",
"PaReq":"eJxVUe1ugkAQfBXjA3gfSCtmvQSqrTTB2JbWyD88NoVUAQ9o5e17h1jtbmdvd2Z21kIU4U
4f0PZKBQQYFXFnzjIktmQWRa3J1Y5FLB2XEo4BtVlRW5YCM64kAuUHcpmcZ5LSCWR89fiTGzObs",
"TermUrl": "https://payment.webpay.by:443",
"MD":"d7781ea7482f6f0df17afc7df2abdfc1199b6d460a42279855a4369e3828ae80=54715979
4b415849646e5242754b35545865694b5766726d62"}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content pcidss3DS  -->
      </div><!-- /doc wrap -->
    </div><!-- /right side pcidss3DS wrap -->

    <div class="right-side"><!-- right side postPcidss3DS wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content postPcidss3DS -->
          <p>Мерчант отправляет POST-запрос на URL, который пришел в поле acsUrl с параметрами PaReq, MD и TermUrl.</p>
          <p>* Поле TermUrl предварительно замените на свой URL где будет обрабатываться ответ от acs. Когда на Ваш URL для обработки ответа от acs придёт ответ Вам необходимо отправить POST-запрос WEBPAY с параметрами, которые пришли от acs (в ответе от acs приходит поле PaRes и MD-токен, по которому мы восстановим платежную сессию).</p>
        </div><!-- end left side content postPcidss3DS -->
        <div class="doc-right"> <!-- right side content postPcidss3DS -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="php code-active" lang="php" >
$params['PaRes'] = "effc84c25f202e28dd96b3197d682bfe611dd2e8e67233f46114094940a
05fcf=73444a4f5f39324b764b767476517876622d647372676b49744444534c4d5a30345879566
e334b48526e592c";
$params['MD'] = "d7781ea7482f6f0df17afc7df2abdfc1199b6d460a42279855a4369e3828ae
80=547159794b415849646e5242754b3555865694b5766726d62";
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content postPcidss3DS  -->
      </div><!-- /doc wrap -->
    </div><!-- /right side postPcidss3DS wrap -->

    <div class="right-side"><!-- right side pcidssProcessing wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content pcidssProcessing -->
          <p>WEBPAY получает запрос, обрабатывает, отправляет в процессинг и возвращает мерчанту ответ</p>
        </div><!-- end left side content pcidssProcessing -->
        <div class="doc-right"> <!-- right side content pcidssProcessing -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
{"token":"ffc84c25f202e28dd96b3197d682bfe611dd2e8e67233f46114094940a05fcf=73444
a4f5f39",
"tokenName":"wt",
"time":"2019.09.13 10:18:14",
"orderNumber":"test-1568359081",
"invoiceNumber":"138143506",
"transaction":"760583316",
"authorizationCode":"269412",
"rrn":"269412973762",
"trimPan":"417753xxxxxx1234",
"amount":"6,00",
"currency":"BYN",
"payee":"Test",
"acsUrl":"",
"PaReq":"",
"TermUrl":"",
"MD":"",
"responseCode":"",
"responseText":""}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content pcidssProcessing -->
      </div><!-- /doc wrap -->
    </div><!-- /right side pcidssProcessing wrap -->

    <!-- End Merchant PCI DSS -->

    <!-- Betting -->

    <div class="right-side"><!-- right side bettingMainInfo wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content bettingMainInfo -->
          <!-- left side content bettingMainInfo -->
          <h2 id="betting" class="doc-title">Общее описание работы с платежным модулем выплат</h2>
          <p>Данное руководство описывает процесс разработки платежного модуля выплат с помощью системы WEBPAY для Интернет-ресурсов, подключенных к интернет-эквайрингу. Функционал доступен при работе через банк-эквайер ОАО "БелВЭБ".</p>
          <p>Для ввода и вывода денежных средств на Вашем сайте допускается использование плательщиком карт платежных систем Mastercard, Visa, БЕЛКАРТ, эмитированных любым белорусским банком. Иностранные карты недоступны для выплат согласно правилам платежных систем.</p>
        </div><!-- end left side content bettingMainInfo -->
      </div><!-- /doc wrap -->
    </div><!-- /right side bettingMainInfo wrap -->

    <div class="right-side"><!-- right side bettingScheme wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content bettingScheme -->
          <!-- left side content bettingScheme -->
          <h2>Схема работы</h2>
          <h3>Первое пополнение аккаунта привязка карты (присвоение токена)</h3>
          <ol>
            <li>Плательщик инициирует пополнение аккаунта.</li>
            <li>Интернет-ресурс формирует авторизационный POST-запрос и перенаправляет плательщика на платежную страницу WEBPAY, где плательщик вводит данные своей карточки (<a href="#integration">Разработка платежного модуля</a>).</li>
            <li>После заполнения необходимых данных плательщиком, система WEBPAY направляет запрос в банк-эквайер на проведение транзакции и получает ответ о результатах прохождения.</li>
            <li>После получения ответа от банка-эквайера, система WEBPAY отправляет Интернет-ресурсу нотификатор, содержащий информацию об успешном/ошибочном проведении транзакции. В случае успешной операции в нотификаторе будет содержаться токен карты (привязка осуществляется по <b>wsb_customer_id</b>) и карта в формате 4***********1234.</li>
            <li>Интернет-ресурс отображает в личном кабинете плательщика карту в формате 4***********1234 (при необходимости).</li>
            <li>На своей стороне Интернет-ресурс в обязательном порядке собирает информацию о плательщике (ФИО и адрес).</li>
          </ol>
          <h3>Последующие пополнения аккаунтов</h3>
          <ol>
            <li>При необходимости осуществления нового пополнения тем же плательщиком, Интернет-ресурс направляет в систему WEBPAY новый POST-запрос с указанием <b>wsb_customer_id</b>.</li>
            <li>Система WEBPAY восстанавливает номер карты плательщика, имя держателя карты и срок действия. Плательщику остается ввести лишь CVV/CVC код. Также при каждом пополнении плательщик проходит проверку 3D-Secure.</li>
          </ol>
          <h3>Вывод денежных средств с аккаунта плательщика (тип операции B2C)</h3>
          <ol>
            <li>Плательщик в личном кабинете Интернет-ресурса инициирует вывод денежных средств путем выбора из списка карты (список отображает карты плательщика в формате 4***********1234, с которых он ранее осуществлял пополнение аккаунта), на которую необходимо осуществить вывод.плательщик проходит проверку 3D-Secure.</li>
            <li>Плательщик указывает сумму, на которую он хочет осуществить вывод денежных средств.</li>
            <li>Интернет-ресурс отправляет запрос в систему WEBPAY, в котором указывает токен карты (любой операции, прошедшей для данного <b>wsb_customer_id</b>), на который необходимо осуществить вывод денежных средств, также Интернет-ресурс передает информацию о плательщике (ФИО и адрес. Описание полей представлены в таблице <a href="#fieldDescriptionBetting">Описание полей</a>).</li>
            <li>Система WEBPAY по полученным данным восстанавливает карту плательщика и делает запрос на вывод в банк-эквайер.</li>
            <li>От банка-эквайера система WEBPAY получает результат обработки запроса.</li>
            <li>После получения результата от банка-эквайера, система WEBPAY направляет Интернет-ресурсу нотификатор, содержащий результат проведения операции вывода денежных средств.</li>
          </ol>
        </div><!-- end left side content bettingScheme -->
      </div><!-- /doc wrap -->
    </div><!-- /right side bettingScheme wrap -->

    <div class="right-side"><!-- right side devPaymentModule wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content devPaymentModule -->
          <!-- left side content devPaymentModule -->
          <h2>Разработка платежного модуля</h2>
          <table>
            <thead>
              <tr>
                <td>Тип операции</td>
                <td>Раздел</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Пополнение, привязка карты и последующее пополнение</td>
                <td><a href="#integration">POST-запрос</a>;<br><a href="#simplifiedPayment">Упрощенный платеж</a></td>
              </tr>
              <tr>
                <td>Вывод денежных средств</td>
                <td><a href="#wsbAPI">Web функции</a> (запрос TransactionB2C). Перед применением необходимо сообщить IP адрес, с которого будет осуществляться запрос</td>
              </tr>
            </tbody>
          </table>
          <h3>Первое пополнение, привязка карты и последующее пополнение</h3>
          <p>В систему WEBPAY следует направлять авторизационный POST-запрос согласно документации разработчика Developer Guide и приложения №5 Упрощенный платеж. Токен карты передается в поле <b>transaction_id</b>.</p>
          <h3>Вывод денежных средств</h3>
          <p>Для тестирования B2C следует использовать URL <a href="https://sandbox.webpay.by/WSBApi2" target="_blank">https://sandbox.webpay.by/WSBApi2</a> и запрос TransactionB2C (<a href="#wsbAPI">Web функции</a>).</p>
          <p>Поле <b>addInfo</b> - это json строка, состоящая из значений представленных в таблице.</p>
          <h3 id="fieldDescriptionBetting">Описание полей таблицы</h3>
          <table>
            <thead>
              <tr>
                <td>Tag</td>
                <td>Type</td>
                <td>Description</td>
                <td>Value Format</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>C1</td>
                <td>T</td>
                <td>First Name</td>
                <td>ans ...35</td>
              </tr>
              <tr>
                <td>C2</td>
                <td>T</td>
                <td>Middle Name</td>
                <td>ans 1</td>
              </tr>
              <tr>
                <td>C3</td>
                <td>T</td>
                <td>Last Name</td>
                <td>ans ...35</td>
              </tr>
              <tr>
                <td>C4</td>
                <td>T</td>
                <td>Street Address</td>
                <td>ans ...50</td>
              </tr>
              <tr>
                <td>C5</td>
                <td>T</td>
                <td>City</td>
                <td>ans ...25</td>
              </tr>
              <tr>
                <td>C6</td>
                <td>T</td>
                <td>State/Province Code</td>
                <td>ans ...3</td>
              </tr>
              <tr>
                <td>C7</td>
                <td>T</td>
                <td>Country</td>
                <td>ans 3</td>
              </tr>
              <tr>
                <td>C8</td>
                <td>T</td>
                <td>Postal Code</td>
                <td>ans ...10</td>
              </tr>
            </tbody>
          </table>
          <p>ans – alphabetic, numeric and special characters</p>
          <p>Для тестирования можно воспользоваться тестовой картой</p>
          <table>
            <thead>
              <tr>
                <td>Номер карты</td>
                <td>Срок действия</td>
                <td>CVV</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>5445781008964725</td>
                <td>10/22</td>
                <td>395</td>
              </tr>
            </tbody>
          </table>
          <p>После получения ответа от системы WEBPAY, следует запросить статус через метод <b>get_transaction</b> (раздел <a href="#getTransaction">Проверка платежа</a>).</p>
        </div><!-- end left side content devPaymentModule -->
        <div class="doc-right"> <!-- right side content devPaymentModule -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="xml code-active" lang="xml" >
&#60;TransactionB2C xmlns= "https://billing.webpay.by/WPPAPI-V0.2/"&#62;
  &#60;parameters&#62;
    &#60;store_id&#62;182612154&#60;/store_id&#62;
    &#60;login&#62;test_bveb&#60;/login&#62;
    &#60;password&#62;25f9e794323b453885f5181f1b624d0b&#60;/password&#62;
    &#60;transaction_id&#62;805373075&#60;/transaction_id&#62;
    &#60;amount&#62;22&#60;/amount&#62;
    &#60;currency&#62;BYN&#60;/currency&#62;
    &#60;addInfo&#62;{"C1":"LNAMES","C2":"VTWO","C3":"LNAMES","CC":"00",
    "C4":"av. POBEDITELEY101","C5":"MINSK","C7":"112","C8":"220019"}&#60;/addInfo&#62;
  &#60;/parameters&#62;
&#60;/TransactionB2C&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content devPaymentModule-->
      </div><!-- /doc wrap -->
    </div><!-- /right side devPaymentModule wrap -->

    <div class="right-side"><!-- right side chaeckPayment wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content chaeckPayment -->
          <!-- left side content chaeckPayment -->
          <p>Если по одному <b>transaction_id</b> будет создано несколько выплат, то можно использовать запрос <b>GetTransactionStatus</b> (раздел <a href="#wsbAPI">Web функции</a>).</p>
          <p>В данном примере необходимо заменить только значения в полях: store_id, login, password, transaction_id.</p>
        </div><!-- end left side content chaeckPayment -->
        <div class="doc-right"> <!-- right side content chaeckPayment -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="php code-active" lang="php" >
$wsdl_url = 'https://sandbox.webpay.by/WSBApi2';
try {
  $soap_client = new SoapClient($wsdl_url, $defaultOptions);
} catch (SoapFault $e) {
  print $e->getMessage();
}
$params = array(
  'store_id'=> 'store_id',
  'login'=> 'login',
  'password'=>'password',
  'transaction_id'=> 'transaction_id',
  'order_num'=> 'order_num'
);
try {
  $r = $soap_client->GetTransactionStatus($params);
  print_r($soap_client);
  print_r($r);
} catch (SoapFault $exception) {
  print_r($soap_client);
  echo $exception;
}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content chaeckPayment -->
      </div><!-- /doc wrap -->
    </div><!-- /right side chaeckPayment wrap -->

    <!-- End Betting -->

    <!-- API -->

    <!-- Web function -->

    <div class="right-side"><!-- right side webFunction wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content webFunction -->
          <!-- left side content webFunction -->
          <h2 id="wsbAPI" class="doc-title">Управление операциями</h2>
          <p>SDK и описание API для управления карточными операциям доступно по ссылке <a href="https://github.com/WebpayDev/wsb-api-sdk" target="_blank">https://github.com/WebpayDev/wsb-api-sdk</a></p>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                Предварительно необходимо направить запрос в службу поддержки компании WEBPAY на <a href="mailto:support@webpay.by">support@webpay.by</a>, указав IP адрес, с которого будут производиться запросы.
            </p>
          </div><!-- /Attention -->
        </div><!-- end left side content webFunction -->
      </div><!-- /doc wrap -->
    </div><!-- /right side webFunction wrap -->

    <!-- End Web function -->

    <!-- Create Order API -->

    <div class="right-side"><!-- right side createOrderAPIMainInfo wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content createOrderAPIMainInfo -->
          <h2 id="createOrderAPI" class="doc-title">API для создания счетов в системе WEBPAY без перехода на платежную страницу</h2>
          <h3>Описание механизма создания заказа</h3>
          <p>Для реализации данного механизма необходимо предварительно обратиться в техническую поддержку WEBPAY по адресу <a href="mailto:support@webpay.by">support@webpay.by</a> для подключения данного функционала.</p>
          <p>Сервис используется, чтобы создавать счета в системе WEBPAY через API. Запрос направляется методом POST на URL адрес для тестового создания счета - <a href="https://sand-box.webpay.by/woc/order" target="_blank">https://sand-box.webpay.by/woc/order</a> и на URL адрес для реального - <a href="https://api.webpay.by/woc/order" target="_blank">https://api.webpay.by/woc/order</a>. Каждый запрос необходимо подписывать по алгоритму Hmac. Описание данного алгоритма представлено далее.</p>
          <!-- left side content createOrderAPIMainInfo -->
        </div><!-- end left side content createOrderAPIMainInfo -->
      </div><!-- /doc wrap -->
    </div><!-- /right side createOrderAPIMainInfo wrap -->

    <div class="right-side"><!-- right side createOrderAPIFields wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content createOrderAPIFields -->
          <!-- left side content createOrderAPIFields -->
          <h3>Описание параметров запроса и его пример</h3>
          <table>
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Тип данных</td>
                <td>Обязательно</td>
                <td>Описание поля</td>
                <td>Кодировки и прочее</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resourceId</td>
                <td>String</td>
                <td>Да</td>
                <td>Идентификатор Магазина в системе WEBPAY</td>
                <td></td>
              </tr>
              <tr>
                <td>resourceOrderNumber</td>
                <td>String</td>
                <td>Да</td>
                <td>Уникальный номер заказа, присваиваемый Магазином</td>
                <td></td>
              </tr>
              <tr>
                <td>validThrough</td>
                <td>Date</td>
                <td>Нет</td>
                <td>Дата, до которой можно оплатить заказ</td>
                <td></td>
              </tr>
              <tr>
                <td>shortDescription</td>
                <td>String</td>
                <td>Нет</td>
                <td>Краткое описание товара</td>
                <td></td>
              </tr>
              <tr>
                <td>creationTime</td>
                <td>Date</td>
                <td>Нет</td>
                <td>Дата создания заказа Магазином</td>
                <td></td>
              </tr>
              <tr>
                <td>longDescription</td>
                <td>String</td>
                <td>Нет</td>
                <td>Подробное описание товара</td>
                <td></td>
              </tr>
              <tr>
                <td>languageCode</td>
                <td>String</td>
                <td>Нет</td>
                <td>Код языка согласно ISO 639-1</td>
                <td></td>
              </tr>
              <tr>
                <td>items</td>
                <td>Array</td>
                <td>Да</td>
                <td>Массив позиций заказа</td>
                <td>множественный</td>
              </tr>
              <tr>
                <td>item</td>
                <td>ComplexType</td>
                <td>Да</td>
                <td>Позиция заказа</td>
                <td>items/</td>
              </tr>
              <tr>
                <td>name</td>
                <td>String</td>
                <td>Да</td>
                <td>Наименование товара</td>
                <td>items/item/</td>
              </tr>
              <tr>
                <td>quantity</td>
                <td>Integer</td>
                <td>Да</td>
                <td>Количество товара</td>
                <td>items/item/</td>
              </tr>
              <tr>
                <td>price</td>
                <td>ComplexType</td>
                <td>Да</td>
                <td>Стоимость одной позиции</td>
                <td>items/item/</td>
              </tr>
              <tr>
                <td>amount</td>
                <td>BigDecimal</td>
                <td>Да</td>
                <td>Стоимость одной позиции</td>
                <td>items/item/price/</td>
              </tr>
              <tr>
                <td>currency</td>
                <td>String</td>
                <td>Да</td>
                <td>Валюта позиции согласно ISO 4217</td>
                <td>items/item/price/</td>
              </tr>
              <tr>
                <td>urls</td>
                <td>Map</td>
                <td>Да</td>
                <td>Массив адресов</td>
                <td>множественный</td>
              </tr>
              <tr>
                <td>name</td>
                <td>Enum</td>
                <td>Да</td>
                <td>Возможные значения:<br><b>resourceReturnUrl</b> - URL для редиректа в случае успешной авторизации;<br><b>resourceCancelUrl</b> - URL для редиректа в случае не успешной авторизации;<br><b>resourceNotifyUrl</b> - URL для отправки нотификатора (paymentStatus).</td>
                <td>urls/</td>
              </tr>
              <tr>
                <td>url</td>
                <td>String</td>
                <td>Да</td>
                <td>URL, соответствующий вышеуказанному типу ('name')</td>
                <td>urls/</td>
              </tr>
              <tr>
                <td>customer</td>
                <td>ComplexType</td>
                <td>Нет</td>
                <td>Наименование получателя товара/услуги</td>
                <td></td>
              </tr>
              <tr>
                <td>resourceCustomerId</td>
                <td>String</td>
                <td>Да</td>
                <td>Идентификатор получателя товара/услуги</td>
                <td>customer/</td>
              </tr>
              <tr>
                <td>name</td>
                <td>String</td>
                <td>Нет</td>
                <td>Имя получателя товара/услуги</td>
                <td>customer/</td>
              </tr>
              <tr>
                <td>surname</td>
                <td>String</td>
                <td>Нет</td>
                <td>Фамилия получателя товара/услуги</td>
                <td>customer/</td>
              </tr>
              <tr>
                <td>email</td>
                <td>String</td>
                <td>Нет</td>
                <td>Email получателя товара/услуги</td>
                <td>customer/</td>
              </tr>
              <tr>
                <td>phone</td>
                <td>String</td>
                <td>Нет</td>
                <td>Телефон получателя товара/услуги</td>
                <td>customer/</td>
              </tr>
              <tr>
                <td>discounts</td>
                <td>Array</td>
                <td>Нет</td>
                <td>Массив позиций скидок заказа</td>
                <td>множественный</td>
              </tr>
              <tr>
                <td>discount</td>
                <td>ComplexType</td>
                <td>Да</td>
                <td>Скидка заказа</td>
                <td>discount/</td>
              </tr>
              <tr>
                <td>name</td>
                <td>String</td>
                <td>Да</td>
                <td>Наименование скидки</td>
                <td>discount/</td>
              </tr>
              <tr>
                <td>promoCode</td>
                <td>String</td>
                <td>Нет</td>
                <td>Промокод</td>
                <td>discount/</td>
              </tr>
              <tr>
                <td>type</td>
                <td>String</td>
                <td>Нет</td>
                <td>Тип скидки</td>
                <td>discount/</td>
              </tr>
              <tr>
                <td>value</td>
                <td>ComplexType</td>
                <td>Да</td>
                <td>Описание стоимости скидки</td>
                <td>discount/</td>
              </tr>
              <tr>
                <td>amount</td>
                <td>BigDecimal</td>
                <td>Да</td>
                <td>Стоимость скидки</td>
                <td>discount/value/</td>
              </tr>
              <tr>
                <td>currency</td>
                <td>String</td>
                <td>Да</td>
                <td>Валюта позиции согласно ISO 4217</td>
                <td>discount/value/</td>
              </tr>
              <tr>
                <td>shippings</td>
                <td>Array</td>
                <td>Нет</td>
                <td>Массив позиций доставок</td>
                <td>множественный</td>
              </tr>
              <tr>
                <td>shipping</td>
                <td>ComplexType</td>
                <td>Да</td>
                <td>Доставка</td>
                <td>shipping/</td>
              </tr>
              <tr>
                <td>name</td>
                <td>String</td>
                <td>Да</td>
                <td>Наименование доставки</td>
                <td>shipping/</td>
              </tr>
              <tr>
                <td>value</td>
                <td>ComplexType</td>
                <td>Да</td>
                <td>Описание стоимости доставки</td>
                <td>shipping/</td>
              </tr>
              <tr>
                <td>amount</td>
                <td>BigDecimal</td>
                <td>Да</td>
                <td>Стоимость доставки</td>
                <td>shipping/value/</td>
              </tr>
                <tr>
                  <td>currency</td>
                  <td>String</td>
                  <td>Да</td>
                  <td>Валюта позиции согласно ISO 4217</td>
                  <td>shipping/value/</td>
                </tr>
              </tr>
            </tbody>
          </table>
          <p>Для примера рассмотрим запрос, который формируется в формате JSON.</p>
        </div><!-- end left side content createOrderAPIFields -->
        <div class="doc-right"> <!-- right side content createOrderAPIFields -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
{"resourceId":479447789,
"resourceOrderNumber":"455444556222",
"validThrough":"2017-09-25T00:01:00+03:00",
"shortDescription":"Test payment",
"creationTime":"2017-09-20T09:00:00+03:00",
"longDescription":"This is a test payment",
"languageCode":"ru",
"customer":{
"resourceCustomerId":"test33332",
"phone":"375331231231",
"email":"test@test.by",
"name":"tttttt",
"surname":"qqqqqqq"},
"items":[{
"idx":1,
"name":"Товар 1 UTF-8 1",
"unit":"ww.",
"quantity":"1",
"price":{
"currency":"BYN",
"amount":130.10}},
{"idx":2,
"name":"Product 2",
"unit":"qt.",
"quantity":1,
"price":{
"currency":"BYN",
"amount":40.10}}],
"total":{
"currency":"BYN",
"amount":170.20},
"discounts":[{
"name":"discount",
"promoCode":"promo code",
"type":"type",
"value":{
"amount":10.10,
"currency":"BYN"}}],
"shippings":[{
"name":"shipping",
"value":{
"amount":10.10,
"currency":"BYN"}}],
"urls":{
"resourceReturnUrl":"http://localhost:8080/return11111",
"resourceCancelUrl":"http://localhost:8080/cancel22222",
"resourceNotifyUrl":"http://192.168.44.11:8080/webpay/shop"}}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content createOrderAPIFields -->
      </div><!-- /doc wrap -->
    </div><!-- /right side createOrderAPIFields wrap -->

    <div class="right-side"><!-- right side successResponsecreateOrderAPI wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content successResponsecreateOrderAPI -->
          <!-- left side content successResponsecreateOrderAPI -->
          <h3>Описание параметров ответа</h3>
          <table>
            <thead>
              <tr>
                <td>Название</td>
                <td>Тип</td>
                <td>Обязательный</td>
                <td>Описание</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resourceId</td>
                <td>String</td>
                <td>Да</td>
                <td>Идентификатор Магазина в системе WEBPAY</td>
              </tr>
              <tr>
                <td>resourceOrderNumber</td>
                <td>String</td>
                <td>Да</td>
                <td>Номер заказа в системе Магазина</td>
              </tr>
              <tr>
                <td>webpayInvoiceId</td>
                <td>Integer</td>
                <td>Нет</td>
                <td>ID заказа в системе WEBPAY</td>
              </tr>
              <tr>
                <td>webpayInvoiceNumber</td>
                <td>String</td>
                <td>Нет</td>
                <td>Уникальный номер заказа в системе WEBPAY</td>
              </tr>
              <tr>
                <td>invoiceURL</td>
                <td>String</td>
                <td>Нет</td>
                <td>URL адрес счета</td>
              </tr>
            </tbody>
          </table>
          <p>Ответ системы WEBPAY при успешном создании заказа.</p>
        </div><!-- end left side content successResponsecreateOrderAPI -->
        <div class="doc-right"> <!-- right side content successResponsecreateOrderAPI -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
{"resourceId":479447789,
"resourceOrderNumber":"455444556222",
"webpayInvoiceId":77714,
"webpayInvoiceNumber":"735542997",
"webpayOrderId":9736,
"webpayOrderNumber":null,
"shortOrderNumber":"455444556222",
"invoiceUrl":"https://sandbox.webpay.by/?"}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content successResponsecreateOrderAPI -->

      </div><!-- /doc wrap -->
    </div><!-- /right side successResponsecreateOrderAPI wrap -->

    <div class="right-side"><!-- right side errorResponsecreateOrderAPI wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content errorResponsecreateOrderAPI -->
          <!-- left side content errorResponsecreateOrderAPI -->
          <p>Ответ системы WEBPAY при ошибке</p>
        </div><!-- end left side content errorResponsecreateOrderAPI -->
        <div class="doc-right"> <!-- right side content errorResponsecreateOrderAPI -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
{"errorCode":"BAD_REQUEST",
"errorMessage":"resourceId: Resource not found or disabled"}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content errorResponsecreateOrderAPI -->
      </div><!-- /doc wrap -->
    </div><!-- /right side errorResponsecreateOrderAPI wrap -->

    <div class="right-side"><!-- right side hmacSignature wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content hmacSignature -->
          <!-- left side content hmacSignature -->
          <h3>Механизм формирования Hmac подписи</h3>
          <p>Для выполнения запроса на создание счета, необходимо добавить подпись в запрос по алгоритму Hmac. Подпись формируется следующим образом – к запросу добавляется http заголовок Authorization, который имеет следующий вид:</p>
          <div><b>Authorization: HmacSHA512 &#60;apiKey&#62;:&#60;nonce&#62;:&#60;digest&#62;</b></div>
          <p>Где:</p>
          <ul>
            <li><b>HmacSHA512</b> - алгоритм подписи;</li>
            <li><b>apiKey</b> - идентификационный номер ресурса Магазина;</li>
            <li><b>nonce</b> - случайно сгенерированная строка;</li>
            <li><b>digest</b> - Hmac подпись.</li>
          </ul>
          <p>В подписи используются следующие поля http запроса:</p>
          <ul>
            <li>METHOD\n</li>
            <li>RESOURCE\n</li>
            <li>QUERY_STRING\n</li>
            <li>CONTENT_TYPE\n</li>
            <li>APIKEY\n</li>
            <li>NONCE\n</li>
            <li>PAYLOAD\n</li>
          </ul>
          <p>Описание полей</p>
          <table>
            <thead>
              <tr>
                <td>Название поля</td>
                <td>Обязательное поле</td>
                <td>Описание поля</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>METHOD</td>
                <td>Да</td>
                <td>Метод запроса (POST)</td>
              </tr>
              <tr>
                <td>RESOURCE</td>
                <td>Да</td>
                <td>Ресурс, на который выполняется запрос. Например, в https://sand-box.webpay.by/woc/order строка для подписи будет /woc/order</td>
              </tr>
              <tr>
                <td>QUERYSTRING</td>
                <td>Нет</td>
                <td>Параметры запроса. Например, в https://sand-box.webpay.by/woc/order?id=11 строка для подписи будет id=11</td>
              </tr>
              <tr>
                <td>CONTENT_TYPE</td>
                <td>Да</td>
                <td>Http заголовок Content-type</td>
              </tr>
              <tr>
                <td>APIKEY</td>
                <td>Да</td>
                <td>Идентификационный номер ресурса Магазина</td>
              </tr>
              <tr>
                <td>NONCE</td>
                <td>Да</td>
                <td>Случайно сгенерированная строка. Должна быть уникальна для каждого счета</td>
              </tr>
              <tr>
                <td>PAYLOAD</td>
                <td>Да</td>
                <td>Тело запроса</td>
              </tr>
            </tbody>
          </table>
        </div><!-- end left side content hmacSignature -->
        <div class="doc-right"> <!-- right side content -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
          </div>
          <div class="code-body">
            <pre>
              <code class="php code-active" lang-spec="php" >
&#60;?php
$jsonString =
'{"resourceId":349204746,
"resourceOrderNumber":"ORDER-16",
"validThrough":"2020-06-10T20:16:35+03:00",
"creationTime":"2020-04-13T05:16:09+03:00",
"languageCode":"ru",
"customer":{
"resourceCustomerId":"1",
"phone":null,
"email":"test@test.by"
},"items":[{
"idx":0,
"name":"TEST!",
"quantity":1,
"price":{"currency":"BYN","amount":100.00}}],
"total":{"currency":"BYN","amount":105.00},
"urls":{
"resourceReturnUrl":"https:\/\/test.by",
"resourceCancelUrl":"https:\/\/test.by",
"resourceNotifyUrl":"https:\/\/test.by"},
"shippings":[{"name":"shipping","value":{"amount":5,"currency":"BYN"}}]}';

$nonce = 'Ykw5M85o2iLkTVgDWmz1yPIomi93gvL4AvQN';
$storeid = '349204746';
$secret = '123456';

$stringToSign = "POST\n/woc/order\napplication/json;charset=utf-8\n$storeid
\n$nonce\n$jsonString\n";

$digest = hash_hmac('sha512', $stringToSign, $secret, true);
$hmacString = 'HmacSHA512 '.$storeid.':'.$nonce.':'.base64_encode($digest);
//$hmacString
/*
HmacSHA512 349204746:Ykw5M85o2iLkTVgDWmz1yPIomi93gvL4AvQN:/Ef0ipKEy2+ZW6cj
tOWKr51o0stKbfWxnsRjLxGgT9s+ua6gklzj2BGLdp4/hTXxEZudpVfdcwyAB/I+eA2jfA==
*/
$headers = array(
    "Authorization: $hmacString",
    "Content-type: application/json;charset=utf-8"
);

$url = 'https://sand-box.webpay.by/woc/order';

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5);
curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $jsonString);
$content = curl_exec($ch);
$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
$curlError = curl_error($ch);
curl_close($ch);
print "$content\n";?&#62;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content -->
      </div><!-- /doc wrap -->
    </div><!-- /right side hmacSignature wrap -->

    <!-- End Create Order API -->

    <!-- reportAPI -->

    <div class="right-side"><!-- right side reportAPI wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content reportAPI -->
          <h2 id="getReport" class="doc-title">Структура запроса для получения отчетности</h2>
          <p>Запрос осуществляется на URL адрес:</p>
          <ul>
            <li><a href="https://sander.webpay.by/reports/get" target="_blank">https://sander.webpay.by/reports/get</a> для тестовой среды</li>
            <li><a href="https://merchant.webpay.by/reports/get" target="_blank">https://merchant.webpay.by/reports/get</a> для реальной среды.</li>
          </ul>
          <div><!-- Attention -->
            <p class="attention">
                <span class="attention-head">ВАЖНО!</span>
                ОГРАНИЧЕНИЕ: диапазон дат не более 3 месяцев либо файл объемом не более 100000 записей.
            </p>
          </div><!-- /Attention -->
        </div><!-- end left side content reportAPI -->
        <div class="doc-right"> <!-- right side content reportAPI -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="php code-active" lang="php" >
private String email;
private Integer login;
private String password (md5);
@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = "yyyy-MM-dd")
private Date startDate;
@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = "yyyy-MM-dd")
private Date endDate;
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content reportAPI -->
      </div><!-- /doc wrap -->
    </div><!-- /right side reportAPI wrap -->

    <div class="right-side"><!-- right side reportFormat wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <!-- left side content reportFormat -->
          <h2>Форматы отчетов</h2>
          <p>Отчет от системы WEBPAY можно получить в двух форматах:</p>
          <ul>
            <li>JSON</li>
            <li>EXCEL-file</li>
          </ul>
          <p>Отчет приходит на указанный email с задержкой (до 10 мин), после выгрузки требуемой информации из базы данных.</p>
        </div><!-- end left side content reportFormat -->
        <div class="doc-right"> <!-- right side content reportFormat -->
          <!-- code -->
        <div class="code-wrap">
          <div class="code-head">
            <h3>Example form</h3>
            <div class="select-language">
              <!-- <select name="" id="" class="select-code-lng">
                <option value="html" selected>html</option>
                <option value="js">javaScript</option>
              </select> -->
            </div>
          </div>
          <div class="code-body">
            <pre>
              <code class="json code-active" lang="json" >
// JSON
{
  "login": "test",
  "password": "3434c7ab03ecfbde62ae697a7c66ae8e",
  "startDate": "2017-11-01",
  "endDate": "2017-12-31",
  "reportType": "RECONCILIATION_REPORT",
  "reportFormat" : "JSON"
}

//EXCEL-file
{
  "email": "test@webpay.by",
  "login": "test",
  "password": "3434c7ab03ecfbde62ae697a7c66ae8e",
  "startDate": "2017-11-01",
  "endDate": "2017-12-31",
  "reportType": "RECONCILIATION_REPORT",
  "reportFormat" : "EXCEL"
}
              </code>
            </pre>
          </div>
        </div> <!-- /code -->
        </div><!-- /right side content reportFormat -->
      </div><!-- /doc wrap -->
    </div><!-- /right side reportFormat wrap -->

    <div class="right-side"><!-- right side reportTypes wrap -->
      <div class="doc-content"> <!-- doc wrap -->
        <div class="doc-left"> <!-- left side content -->
          <h2>Типы отчетов</h2>
          <p>Система WEBPAY может высылать следующие типы запросов:</p>
          <ul>
            <li>RECONCILIATION_REPORT - отчет сверки;</li>
            <li>RECEIPT_OF_FUNDS - поступление средств;</li>
            <li>ERIP_PAYMENT_RESULTS - ЕРИП Результаты платежей;</li>
            <li>ERIP_TRANSACTION_LOG - ЕРИП Журнал транзакций.</li>
          </ul>
          <!-- left side content reportTypes -->
        </div><!-- end left side content reportTypes -->
      </div><!-- /doc wrap -->
    </div><!-- /right side reportTypes wrap -->

    <!-- End reportAPI -->

    <!-- End API -->



  </section>
  <!-- /Content -->


    <div class="wrapper"></div>
    <div class="modal">
      <h3>Поиск по документации</h3>
      <input type="text" class="serch-i" id="modal-search">
      <div class="search-result">
        результаты поиска
      </div>
    </div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/lib/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
      const anchors = document.querySelectorAll('a[href*="#"]');

      for (let anchor of anchors) {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          let coordY = document.querySelector(anchor.getAttribute('href')).getBoundingClientRect().top + window.pageYOffset - 70;
          window.scrollTo(0, coordY);
        })
      }
    </script>
</body>
</html>
